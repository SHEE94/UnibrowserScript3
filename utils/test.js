!(function() {\n\t\tlet setItem = plus.storage.setItem;\n\t\tlet getItem = plus.storage.getItem;\n\t\tlet metadata = {"name":"Bç«™å“”å“©å“”å“©ä½¿ç”¨å¢å¼ºï¼Œå…¨ç½‘VIPè§†é¢‘å…è´¹ç ´è§£å»å¹¿å‘Šï¼ŒçŸ¥ä¹ä½¿ç”¨å¢å¼ºï¼ŒçŸ­è§†é¢‘æ— æ°´å°ä¸‹è½½ï¼Œæ²¹ç®¡ã€Facebookç­‰å›½å¤–è§†é¢‘è§£æä¸‹è½½ç­‰ğŸ˜ˆ","icon":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAACS0lEQVRYR8WXz2oTURTGv3MnpqhNKy1UWmxRTGdaiLSQRKkKIoK4FVrRPoHu7BMYn0B3+gQquuiuiC6kaFVsAhGEZkKqG/+Vrtp0YWsyR27KlEwz0xnnT3LgwjB37vl+97tzz9whdDiow/pwBCjofN0AJohwKQgkMxYF8Dmt0bxdnhaAQoWTXMczENJBhFvGMgqk4GY6SZXmPgvAmy/cnYijGqrwvmTVHSQup2jLvG0ByJf5EYDbUQIAeJxR6U4LQHGV1VodesTijfQxBdrkaSrL6z0Hlst8i4An7QBgYDar0lMrgM45ItxrCwDjflajnC+AtR8Gvn8zGpz9xwVOjor/Zma/ANt/GIsLNWxt8p7o4IiAmlLQP+C9pvkG+FoyUPxYs52xhFDPKIh3uRviG2ClWIdsTpHoJYymFNdliQzABBsaEZg4p+DwUftliRxAggwOC0xdidma1RaAI92Ea9OHOgcwPqlANruI1AElhsa2dBKXQJEBnDglGlvxWN/BNcE3gKyCS69b64AUlMISwEv4BpDJ3778i/Xfu5XQtFtaLq+9RiCA6gZj/dcuQN8Audod6kvodYZuz9k7UOK7JPDAbXAY/WxgLjtGDy2f408VPi8MLIUh4JbDELhwNknvLQDyQNoTh87AkFuCIP0E/NzcgWYeTC0bdrkNp6Lm9bc4YM4qr/NzEGaCzNJxLONFRqMbzf22JSu/wlcphhwzpsIAIcIHriGXGadX+/MdWDPflTjRxcH+kLYJhYtj5Piz4/0gF4YVNjk6DvAPDb0aMEr8/nEAAAAASUVORK5CYII=","include":"*://yt1s.com/facebook-downloader","description":"åŠŸèƒ½å¯é€‰æ‹©æ€§æ‰“å¼€ï¼š1ã€Bç«™ä½¿ç”¨å¢å¼ºï¼šæ”¯æŒè§†é¢‘ä¸‹è½½(ğŸ‘‰æ”¯æŒå¤šPæ‰¹é‡å¿«é€Ÿä¸‹è½½ğŸ‘ˆ)ã€æµè§ˆè®°å½•æç¤ºã€ä¸€é”®ä¸‰è¿ã€è‡ªåŠ¨ç­¾åˆ°ã€æè¿°æ–‡æœ¬ç½‘å€è½¬é“¾æ¥ç­‰ï¼›2ã€å…¨ç½‘VIPè§†é¢‘è§£æï¼šçˆ±å¥‡è‰ºã€è…¾è®¯ã€ä¼˜é…·ã€bilibiliç­‰è§†é¢‘å…è´¹è§£æ(æ”¯æŒè‡ªå®šä¹‰è§£ææ¥å£)ï¼›3ã€çŸ¥ä¹ä½¿ç”¨åŠ©æ‰‹ï¼šå†…å®¹ç§ç±»æ ‡è¯†ã€é—®ç­”æ˜¾ç¤ºä¼˜åŒ–ã€è§†é¢‘ä¸‹è½½ç­‰ï¼›4ã€çŸ­è§†é¢‘å»æ°´å°ä¸‹è½½ï¼šæ”¯æŒçŸ¥ä¹ã€æŠ–éŸ³ã€å¿«æ‰‹ç­‰ï¼›5ã€æ²¹ç®¡ã€Facebookç­‰å›½å¤–è§†é¢‘è§£æä¸‹è½½ï¼›6ã€æœç´¢å¼•æ“å¯¼èˆª,æ”¯æŒè‡ªå®šä¹‰ç½‘å€ã€è„šæœ¬é•¿æœŸç»´æŠ¤æ›´æ–°ï¼Œå®Œå…¨å…è´¹ï¼Œæ— å¹¿å‘Šï¼Œä»…é™å­¦ä¹ äº¤æµï¼ï¼ã€‘","require":["https://lf26-cdn-tos.bytecdntp.com/cdn/expire-1-M/jquery/3.2.1/jquery.min.js","https://greasyfork.org/scripts/454236-findandreplacedomtext-huahuacat/code/findAndReplaceDOMText-huahuacat.js?version=1112990"],"run":"","author":"huahuacat","version":"1.0.9","namespace":"bilibili_namespace_20230625","grant":["unsafeWindow","GM_openInTab","GM.openInTab","GM_getValue","GM.getValue","GM_setValue","GM.setValue","GM_xmlhttpRequest","GM.xmlHttpRequest","GM_registerMenuCommand"],"match":[],"downloadURL":"","homepageURL":"","resource":[]}\n\n\t\tfunction element(tag, attr) {\n\t\t\tlet node = document.createElement(tag)\n\t\t\tif (typeof attr == \'object\') {\n\t\t\t\tObject.keys(attr).forEach(function(key) {\n\t\t\t\t\tnode.setAttribute(key, attr[key])\n\t\t\t\t})\n\t\t\t}\n\t\t\treturn node;\n\t\t}\n\n\t\tfunction websiteChecked(url) {\n\t\t\tlet match = metadata.match;\n\t\t\tfor (let i = 0, len = match.length; i < len; i++) {\n\t\t\t\tlet urlreg = new RegExp(match[i])\n\t\t\t\tif (urlreg.test(url)) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn false;\n\t\t}\n\n\t\tconst namespaceStorage = function() {\n\t\t\tlet data = getItem(metadata.name)\n\t\t\tif (typeof data == \'string\') {\n\t\t\t\treturn JSON.parse(data)\n\t\t\t}\n\t\t\treturn []\n\t\t}\n\n\t\tlet GM_ctrl = {}\n\n\t\tGM_ctrl.GM_setValue = function(key, defaultValue) {\n\t\t\tlet namespaceArr = namespaceStorage() || [];\n\t\t\tlet saveVal = {\n\t\t\t\tkey: key,\n\t\t\t\tdata: defaultValue\n\t\t\t}\n\t\t\tnamespaceArr.push(saveVal)\n\t\t\tsetItem(metadata.name, JSON.stringify(namespaceArr))\n\t\t}\n\n\t\tGM_ctrl.GM_getValue = function(key) {\n\t\t\tlet namespaceArr = namespaceStorage() || [];\n\t\t\tlet resArr = namespaceArr.find(item => item.key == key)\n\t\t\treturn resArr.data;\n\t\t}\n\n\t\tGM_ctrl.GM_deleteValue = function(key) {\n\t\t\tlet namespaceArr = namespaceStorage() || [];\n\n\t\t\tnamespaceArr.forEach((item, index) => {\n\t\t\t\tnamespaceArr.splice(index, 1)\n\t\t\t})\n\t\t\tsetItem(metadata.name, JSON.stringify(namespaceArr))\n\t\t}\n\t\tGM_ctrl.GM_getResourceText = function(name) {\n\t\t\treturn metadata[name]\n\t\t}\n\n\t\tGM_ctrl.GM_getResourceURL = function(name) {\n\t\t\treturn metadata.resource.find(item => item[0] == name)\n\t\t}\n\n\t\tGM_ctrl.GM_addElement = function() {\n\t\t\tlet a = arguments[0]\n\t\t\tlet b = arguments[1]\n\t\t\tlet c = arguments[2]\n\t\t\tlet node = null\n\t\t\tif (typeof a == \'string\') {\n\t\t\t\tnode = element(a, b)\n\t\t\t\tdocument.body.appendChild(node)\n\t\t\t}\n\t\t\tif (typeof a == \'object\') {\n\t\t\t\tnode = element(b, c)\n\t\t\t\ta.appendChild(node)\n\t\t\t}\n\t\t\treturn node\n\t\t}\n\n\t\tGM_ctrl.GM_addStyle = function(css) {\n\t\t\tlet style = document.createElement(\'style\')\n\t\t\tstyle.textContent = css;\n\t\t\tdocument.head[0].appendChild(style)\n\t\t\treturn style;\n\t\t}\n\n\t\tGM_ctrl.GM_openInTab = function(url, options) {\n\n\t\t}\n\n\t\tGM_ctrl.GM_registerMenuCommand = function(caption, onClick) {\n\n\t\t}\n\t\tGM_ctrl.GM_unregisterMenuCommand = function(caption) {\n\n\t\t}\n\n\t\tGM_ctrl.GM_xmlhttpRequest = function(details) {\n\t\t\tlet xhr = new plus.net.XMLHttpRequest();\n\t\t\tdetails.onreadystatechange = xhr.onreadystatechange;\n\t\t\tdetails.onabort = xhr.onabort;\n\t\t\tdetails.onerror = xhr.onerror;\n\t\t\tdetails.onload = xhr.onload;\n\t\t\tdetails.onloadend = xhr.onloadend;\n\t\t\tdetails.onloadstart = xhr.onloadstart;\n\t\t\tdetails.onprogress = xhr.onprogress;\n\t\t\tdetails.ontimeout = xhr.ontimeout;\n\n\t\t\txhr.timeout = details.timeout || 30000\n\t\t\tif (details.responseType) {\n\t\t\t\txhr.responseType = details.responseType\n\t\t\t}\n\t\t\tif (details.headers) {\n\t\t\t\tObject.keys(details.headers).forEach(function(key) {\n\t\t\t\t\txhr.setRequestHeader(key, details.headers[key])\n\t\t\t\t})\n\n\t\t\t}\n\t\t\tif (details.overrideMimeType) {\n\t\t\t\txhr.overrideMimeType(details.overrideMimeType);\n\t\t\t}\n\n\t\t\tif (details.method == \'GET\' && details.data) {\n\t\t\t\tlet param = \'\'\n\t\t\t\tObject.keys(details.data).forEach(function(key) {\n\t\t\t\t\tparam += \'&\' + key + \'=\' + details[key]\n\t\t\t\t})\n\t\t\t\tparam = param.substring(1)\n\t\t\t\tdetails.url = \'?\' + param\n\t\t\t}\n\n\t\t\tlet username = details.user ? details.user : null,\n\t\t\t\tpassword = details.password ? details.password : null;\n\n\t\t\txhr.open(details.method || \'GET\', details.url, username, password);\n\t\t\tif (details.metadata == \'POST\') {\n\t\t\t\txhr.send(details.data);\n\t\t\t} else {\n\t\t\t\txhr.send();\n\t\t\t}\n\t\t}\n\n\t\tGM_ctrl.GM_download = function() {\n\n\t\t\treturn new Promise((res, rej) => {\n\t\t\t\tif (arguments.length == 1) {\n\t\t\t\t\tlet options = arguments[0];\n\t\t\t\t\tplus.downloader.createDownload(options.url, options, function(e) {\n\t\t\t\t\t\tres(e)\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\tif (arguments.length > 1) {\n\t\t\t\t\tlet url = arguments[0];\n\t\t\t\t\tlet name = arguments[1];\n\t\t\t\t\tplus.downloader.createDownload(url, {\n\t\t\t\t\t\tfilename: name\n\t\t\t\t\t}, function(e) {\n\t\t\t\t\t\tres(e)\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t})\n\t\t}\n\t\t\n\t\t// function dowloadURl(url){\n\t\t\t\n\t\t// }\n\n\t\tlet grant = metadata.grant;\n\t\t// let scriptWrap = new Function(grant.join(\',\'), // ==UserScript==\n// @name              Bç«™å“”å“©å“”å“©ä½¿ç”¨å¢å¼ºï¼Œå…¨ç½‘VIPè§†é¢‘å…è´¹ç ´è§£å»å¹¿å‘Šï¼ŒçŸ¥ä¹ä½¿ç”¨å¢å¼ºï¼ŒçŸ­è§†é¢‘æ— æ°´å°ä¸‹è½½ï¼Œæ²¹ç®¡ã€Facebookç­‰å›½å¤–è§†é¢‘è§£æä¸‹è½½ç­‰ğŸ˜ˆ\n// @name:zh           Bç«™å“”å“©å“”å“©ä½¿ç”¨å¢å¼ºï¼Œå…¨ç½‘VIPè§†é¢‘å…è´¹ç ´è§£å»å¹¿å‘Šï¼ŒçŸ¥ä¹ä½¿ç”¨å¢å¼ºï¼ŒçŸ­è§†é¢‘æ— æ°´å°ä¸‹è½½ï¼Œæ²¹ç®¡ã€Facebookç­‰å›½å¤–è§†é¢‘è§£æä¸‹è½½ç­‰ğŸ˜ˆ\n// @name:zh-TW\t\t  Bç«™å—¶å“©å—¶å“©ä½¿ç”¨å¢å¼·ï¼Œå…¨ç¶²VIPè¦–é »å…è²»ç ´è§£å»å»£å‘Šï¼ŒçŸ¥ä¹ä½¿ç”¨å¢å¼·ï¼ŒçŸ­è¦–é »ç„¡æ°´å°ä¸‹è¼‰ï¼Œæ²¹ç®¡ã€Facebookç­‰åœ‹å¤–è¦–é »è§£æä¸‹è¼‰ç­‰ğŸ˜ˆ\n// @namespace         bilibili_namespace_20230625\n// @version           1.0.9\n// @description       åŠŸèƒ½å¯é€‰æ‹©æ€§æ‰“å¼€ï¼š1ã€Bç«™ä½¿ç”¨å¢å¼ºï¼šæ”¯æŒè§†é¢‘ä¸‹è½½(ğŸ‘‰æ”¯æŒå¤šPæ‰¹é‡å¿«é€Ÿä¸‹è½½ğŸ‘ˆ)ã€æµè§ˆè®°å½•æç¤ºã€ä¸€é”®ä¸‰è¿ã€è‡ªåŠ¨ç­¾åˆ°ã€æè¿°æ–‡æœ¬ç½‘å€è½¬é“¾æ¥ç­‰ï¼›2ã€å…¨ç½‘VIPè§†é¢‘è§£æï¼šçˆ±å¥‡è‰ºã€è…¾è®¯ã€ä¼˜é…·ã€bilibiliç­‰è§†é¢‘å…è´¹è§£æ(æ”¯æŒè‡ªå®šä¹‰è§£ææ¥å£)ï¼›3ã€çŸ¥ä¹ä½¿ç”¨åŠ©æ‰‹ï¼šå†…å®¹ç§ç±»æ ‡è¯†ã€é—®ç­”æ˜¾ç¤ºä¼˜åŒ–ã€è§†é¢‘ä¸‹è½½ç­‰ï¼›4ã€çŸ­è§†é¢‘å»æ°´å°ä¸‹è½½ï¼šæ”¯æŒçŸ¥ä¹ã€æŠ–éŸ³ã€å¿«æ‰‹ç­‰ï¼›5ã€æ²¹ç®¡ã€Facebookç­‰å›½å¤–è§†é¢‘è§£æä¸‹è½½ï¼›6ã€æœç´¢å¼•æ“å¯¼èˆª,æ”¯æŒè‡ªå®šä¹‰ç½‘å€ã€è„šæœ¬é•¿æœŸç»´æŠ¤æ›´æ–°ï¼Œå®Œå…¨å…è´¹ï¼Œæ— å¹¿å‘Šï¼Œä»…é™å­¦ä¹ äº¤æµï¼ï¼ã€‘\n// @description:zh    åŠŸèƒ½å¯é€‰æ‹©æ€§æ‰“å¼€ï¼š1ã€Bç«™ä½¿ç”¨å¢å¼ºï¼šæ”¯æŒè§†é¢‘ä¸‹è½½(ğŸ‘‰æ”¯æŒå¤šPæ‰¹é‡å¿«é€Ÿä¸‹è½½ğŸ‘ˆ)ã€æµè§ˆè®°å½•æç¤ºã€ä¸€é”®ä¸‰è¿ã€è‡ªåŠ¨ç­¾åˆ°ã€æè¿°æ–‡æœ¬ç½‘å€è½¬é“¾æ¥ç­‰ï¼›2ã€å…¨ç½‘VIPè§†é¢‘è§£æï¼šçˆ±å¥‡è‰ºã€è…¾è®¯ã€ä¼˜é…·ã€bilibiliç­‰è§†é¢‘å…è´¹è§£æ(æ”¯æŒè‡ªå®šä¹‰è§£ææ¥å£)ï¼›3ã€çŸ¥ä¹ä½¿ç”¨åŠ©æ‰‹ï¼šå†…å®¹ç§ç±»æ ‡è¯†ã€é—®ç­”æ˜¾ç¤ºä¼˜åŒ–ã€è§†é¢‘ä¸‹è½½ç­‰ï¼›4ã€çŸ­è§†é¢‘å»æ°´å°ä¸‹è½½ï¼šæ”¯æŒçŸ¥ä¹ã€æŠ–éŸ³ã€å¿«æ‰‹ç­‰ï¼›5ã€æ²¹ç®¡ã€Facebookç­‰å›½å¤–è§†é¢‘è§£æä¸‹è½½ï¼›6ã€æœç´¢å¼•æ“å¯¼èˆª,æ”¯æŒè‡ªå®šä¹‰ç½‘å€ã€è„šæœ¬é•¿æœŸç»´æŠ¤æ›´æ–°ï¼Œå®Œå…¨å…è´¹ï¼Œæ— å¹¿å‘Šï¼Œä»…é™å­¦ä¹ äº¤æµï¼ï¼ã€‘\n// @description:zh-TW åŠŸèƒ½å¯é¸æ“‡æ€§é–‹å•Ÿï¼š1ã€Bç«™ä½¿ç”¨å¢å¼·ï¼šæ”¯æ´è¦–é »ä¸‹è¼‰(ğŸ‘‰æ”¯æ´å¤šPæ‰¹é‡å¿«é€Ÿä¸‹è¼‰ğŸ‘ˆ)ã€ç€è¦½è¨˜éŒ„æç¤ºã€ä¸€éµä¸‰é€£ã€è‡ªå‹•ç°½åˆ°ã€æè¿°æ–‡æœ¬ç¶²å€è½‰é€£çµç­‰ï¼›2ã€å…¨ç¶²VIPè¦–é »è§£æï¼šæ„›å¥‡è—ã€é¨°è¨Šã€å„ªé…·ã€bilibiliç­‰è¦–é »å…è²»è§£æ(æ”¯æ´è‡ªå®šç¾©è§£æä»‹é¢)ï¼›3ã€çŸ¥ä¹ä½¿ç”¨åŠ©æ‰‹ï¼šå…§å®¹ç¨®é¡æ¨™è­˜ã€å•ç­”é¡¯ç¤ºå„ªåŒ–ã€è¦–é »ä¸‹è¼‰ç­‰ï¼›4ã€çŸ­è¦–é »å»æ°´å°ä¸‹è¼‰ï¼šæ”¯æ´çŸ¥ä¹ã€æŠ–éŸ³ã€å¿«æ‰‹ç­‰ï¼›5ã€æ²¹ç®¡ã€Facebookç­‰åœ‹å¤–è¦–é »è§£æä¸‹è¼‰ï¼›6ã€æœç´¢å¼•æ“å°èˆª,æ”¯æ´è‡ªå®šç¾©ç¶²å€ã€æŒ‡ä»¤ç¢¼æˆ–ç›´è­¯å¼ç¨‹å¼é•·æœŸç¶­è­·æ›´æ–°ï¼Œå®Œå…¨å…è²»ï¼Œç„¡å»£å‘Šï¼Œåƒ…é™å­¸ç¿’äº¤æµï¼ï¼ã€‘\n// @author            huahuacat\n// @icon              data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAACS0lEQVRYR8WXz2oTURTGv3MnpqhNKy1UWmxRTGdaiLSQRKkKIoK4FVrRPoHu7BMYn0B3+gQquuiuiC6kaFVsAhGEZkKqG/+Vrtp0YWsyR27KlEwz0xnnT3LgwjB37vl+97tzz9whdDiow/pwBCjofN0AJohwKQgkMxYF8Dmt0bxdnhaAQoWTXMczENJBhFvGMgqk4GY6SZXmPgvAmy/cnYijGqrwvmTVHSQup2jLvG0ByJf5EYDbUQIAeJxR6U4LQHGV1VodesTijfQxBdrkaSrL6z0Hlst8i4An7QBgYDar0lMrgM45ItxrCwDjflajnC+AtR8Gvn8zGpz9xwVOjor/Zma/ANt/GIsLNWxt8p7o4IiAmlLQP+C9pvkG+FoyUPxYs52xhFDPKIh3uRviG2ClWIdsTpHoJYymFNdliQzABBsaEZg4p+DwUftliRxAggwOC0xdidma1RaAI92Ea9OHOgcwPqlANruI1AElhsa2dBKXQJEBnDglGlvxWN/BNcE3gKyCS69b64AUlMISwEv4BpDJ3778i/Xfu5XQtFtaLq+9RiCA6gZj/dcuQN8Audod6kvodYZuz9k7UOK7JPDAbXAY/WxgLjtGDy2f408VPi8MLIUh4JbDELhwNknvLQDyQNoTh87AkFuCIP0E/NzcgWYeTC0bdrkNp6Lm9bc4YM4qr/NzEGaCzNJxLONFRqMbzf22JSu/wlcphhwzpsIAIcIHriGXGadX+/MdWDPflTjRxcH+kLYJhYtj5Piz4/0gF4YVNjk6DvAPDb0aMEr8/nEAAAAASUVORK5CYII=\n// @include           *://*.youku.com/v_*\n// @include           *://*.iqiyi.com/v_*\n// @include           *://*.iqiyi.com/w_*\n// @include           *://*.iqiyi.com/a_*\n// @include           *://*.iqiyi.com/resource/pcw/play/*\n// @include           *://*.le.com/ptv/vplay/*\n// @include           *://v.qq.com/x/cover/*\n// @include           *://v.qq.com/x/page/*\n// @include           *://v.qq.com/tv/*\n// @include           *://*.tudou.com/listplay/*\n// @include           *://*.tudou.com/albumplay/*\n// @include           *://*.tudou.com/programs/view/*\n// @include           *://*.mgtv.com/b/*\n// @include           *://film.sohu.com/album/*\n// @include           *://tv.sohu.com/v/*\n// @include           *://*.baofeng.com/play/*\n// @include           *://vip.pptv.com/show/*\n// @include           *://v.pptv.com/show/*\n// @include           *://www.le.com/ptv/vplay/*\n// @include           *://www.wasu.cn/Play/show/*\n// @include           *://*.1905.com/video/*\n// @include           *://*.1905.com/play/*\n// @include           *://*.1905.com/*/play/*\n// @include           *://www.miguvideo.com/mgs/*\n// @include           *://m.v.qq.com/x/cover/*\n// @include           *://m.v.qq.com/x/page/*\n// @include           *://m.v.qq.com/*\n// @include           *://m.iqiyi.com/v_*\n// @include           *://m.iqiyi.com/w_*\n// @include           *://m.iqiyi.com/a_*\n// @include           *://m.youku.com/alipay_video/*\n// @include           *://m.youku.com/video/id_*\n// @include           *://m.mgtv.com/b/*\n// @include           *://m.tv.sohu.com/v/*\n// @include           *://m.film.sohu.com/album/*\n// @include           *://m.le.com/ptv/vplay/*\n// @include           *://m.pptv.com/show/*\n// @include           *://m.acfun.cn/v/*\n// @include           *://m.wasu.cn/Play/show/*\n// @include           *://www.baidu.com/*\n// @include           *://www.so.com/s*\n// @include           *://www.sogou.com/web*\n// @include           *://www.sogou.com/sogou*\n// @include           *://cn.bing.com/search*\n// @include           *://www.bing.com/search*\n// @include           *://www4.bing.com/search*\n// @include           *://so.toutiao.com/search*\n// @include           *://www.google.com/search*\n// @include\t   \t      *://www.bilibili.com/**\n// @include           *://search.bilibili.com/**\n// @include           *://space.bilibili.com/**\n// @include      \t  *://*.zhihu.com/*\n// @include           *://www.douyin.com/*\n// @include           *://www.kuaishou.com/*\n// @include           *://www.youtube.com\n// @include           *://www.youtube.com/\n// @include           *://www.youtube.com/watch*\n// @include           *://www.facebook.com/*\n// @include           *://yt1s.com/facebook-downloader\n// @require           https://lf26-cdn-tos.bytecdntp.com/cdn/expire-1-M/jquery/3.2.1/jquery.min.js\n// @require           https://greasyfork.org/scripts/454236-findandreplacedomtext-huahuacat/code/findAndReplaceDOMText-huahuacat.js?version=1112990\n// @connect           api.bilibili.com\n// @connect           api.live.bilibili.com\n// @connect           api.staticj.top\n// @connect           cdn.jsdelivr.net\n// @grant             unsafeWindow\n// @grant             GM_openInTab\n// @grant             GM.openInTab\n// @grant             GM_getValue\n// @grant             GM.getValue\n// @grant             GM_setValue\n// @grant             GM.setValue\n// @grant             GM_xmlhttpRequest\n// @grant             GM.xmlHttpRequest\n// @grant             GM_registerMenuCommand\n// @license           AGPL License\n// @charset\t\t      UTF-8\n// @run-at            document-idle\n// ==/UserScript==\n\n(function () {\n\t\'use strict\';\n\t\n\t/**\n\t * éƒ¨åˆ†ä»£ç å€Ÿé‰´äº†æ©˜å­çˆ±å“­çš„ä»£ç ï¼Œä»¥è·å¾—åŸä½œè€…æˆæƒ\n\t * åŸè„šæœ¬åœ°å€ï¼šhttps://greasyfork.org/zh-CN/scripts/390952\n\t */\n\t\n\t//å…±æœ‰æ–¹æ³•ï¼Œå…¨å±€å…±äº«\n\tfunction commonFunction(){\n\t\tthis.GMgetValue = function (name, value=null) {\n\t\t\tlet storageValue = value;\n\t\t\tif (typeof GM_getValue === "function") {\n\t\t\t\tstorageValue = GM_getValue(name, value);\n\t\t\t} else if(typeof GM.setValue === "function"){\n\t\t\t\tstorageValue = GM.getValue(name, value);\n\t\t\t}else{\n\t\t\t\tvar arr = window.localStorage.getItem(name);\n\t\t\t\tif(arr != null){\n\t\t\t\t\tstorageValue = arr\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn storageValue;\n\t\t};\n\t\tthis.GMsetValue = function(name, value){\n\t\t\tif (typeof GM_setValue === "function") {\n\t\t\t\tGM_setValue(name, value);\n\t\t\t} else if(typeof GM.setValue === "function"){\n\t\t\t\tGM.setValue(name, value);\n\t\t\t}else{\n\t\t\t\twindow.localStorage.setItem(name, value)\n\t\t\t}\n\t\t};\n\t\tthis.GMaddStyle = function(css){\n\t\t\tvar myStyle = document.createElement(\'style\');\n\t\t\tmyStyle.textContent = css;\n\t\t\tvar doc = document.head || document.documentElement;\n\t\t\tdoc.appendChild(myStyle);\n\t\t};\n\t\tthis.GMopenInTab = function(url, options={"active":true, "insert":true, "setParent":true}){\n\t\t\tif (typeof GM_openInTab === "function") {\n\t\t\t\tGM_openInTab(url, options);\n\t\t\t} else {\n\t\t\t\tGM.openInTab(url, options);\n\t\t\t}\n\t\t};\n\t\tthis.addScript = function(url){\n\t\t\tvar s = document.createElement(\'script\');\n\t\t\ts.setAttribute(\'src\',url);\n\t\t\tdocument.body.appendChild(s);\n\t\t};\n\t\tthis.randomNumber = function(){\n\t\t\treturn Math.ceil(Math.random()*100000000);\n\t\t};\n\t\tthis.request = function(mothed, url, param){   //ç½‘ç»œè¯·æ±‚\n\t\t\treturn new Promise(function(resolve, reject){\n\t\t\t\tGM_xmlhttpRequest({\n\t\t\t\t\turl: url,\n\t\t\t\t\tmethod: mothed,\n\t\t\t\t\tdata:param,\n\t\t\t\t\tonload: function(response) {\n\t\t\t\t\t\tvar status = response.status;\n\t\t\t\t\t\tvar playurl = "";\n\t\t\t\t\t\tif(status==200||status==\'200\'){\n\t\t\t\t\t\t\tvar responseText = response.responseText;\n\t\t\t\t\t\t\tresolve({"result":"success", "data":responseText});\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\treject({"result":"error", "data":null});\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t})\n\t\t};\n\t\tthis.addCommonHtmlCss = function(){\n\t\t\tvar cssText = \n\t\t\t\t`\n\t\t\t\t@keyframes fadeIn {\n\t\t\t\t\t0%    {opacity: 0}\n\t\t\t\t\t100%  {opacity: 1}\n\t\t\t\t}\n\t\t\t\t@-webkit-keyframes fadeIn {\n\t\t\t\t\t0%    {opacity: 0}\n\t\t\t\t\t100%  {opacity: 1}\n\t\t\t\t}\n\t\t\t\t@-moz-keyframes fadeIn {\n\t\t\t\t\t0%    {opacity: 0}\n\t\t\t\t\t100%  {opacity: 1}\n\t\t\t\t}\n\t\t\t\t@-o-keyframes fadeIn {\n\t\t\t\t\t0%    {opacity: 0}\n\t\t\t\t\t100%  {opacity: 1}\n\t\t\t\t}\n\t\t\t\t@-ms-keyframes fadeIn {\n\t\t\t\t\t0%    {opacity: 0}\n\t\t\t\t\t100%  {opacity: 1}\n\t\t\t\t}\n\t\t\t\t@keyframes fadeOut {\n\t\t\t\t\t0%    {opacity: 1}\n\t\t\t\t\t100%  {opacity: 0}\n\t\t\t\t}\n\t\t\t\t@-webkit-keyframes fadeOut {\n\t\t\t\t\t0%    {opacity: 1}\n\t\t\t\t\t100%  {opacity: 0}\n\t\t\t\t}\n\t\t\t\t@-moz-keyframes fadeOut {\n\t\t\t\t\t0%    {opacity: 1}\n\t\t\t\t\t100%  {opacity: 0}\n\t\t\t\t}\n\t\t\t\t@-o-keyframes fadeOut {\n\t\t\t\t\t0%    {opacity: 1}\n\t\t\t\t\t100%  {opacity: 0}\n\t\t\t\t}\n\t\t\t\t@-ms-keyframes fadeOut {\n\t\t\t\t\t0%    {opacity: 1}\n\t\t\t\t\t100%  {opacity: 0}\n\t\t\t\t}\n\t\t\t\t.web-toast-kkli9{\n\t\t\t\t\tposition: fixed;\n\t\t\t\t\tbackground: rgba(0, 0, 0, 0.7);\n\t\t\t\t\tcolor: #fff;\n\t\t\t\t\tfont-size: 14px;\n\t\t\t\t\tline-height: 1;\n\t\t\t\t\tpadding:10px;\n\t\t\t\t\tborder-radius: 3px;\n\t\t\t\t\tleft: 50%;\n\t\t\t\t\ttransform: translateX(-50%);\n\t\t\t\t\t-webkit-transform: translateX(-50%);\n\t\t\t\t\t-moz-transform: translateX(-50%);\n\t\t\t\t\t-o-transform: translateX(-50%);\n\t\t\t\t\t-ms-transform: translateX(-50%);\n\t\t\t\t\tz-index: 999999999999999999999999999;\n\t\t\t\t\twhite-space: nowrap;\n\t\t\t\t}\n\t\t\t\t.fadeOut{\n\t\t\t\t\tanimation: fadeOut .5s;\n\t\t\t\t}\n\t\t\t\t.fadeIn{\n\t\t\t\t\tanimation:fadeIn .5s;\n\t\t\t\t}\n\t\t\t\t`;\n\t\t\tthis.GMaddStyle(cssText);\n\t\t};\n\t\tthis.webToast = function(params) {\t//å°æç¤ºæ¡†\n\t\t\tvar time = params.time;\n\t\t\tvar background = params.background;\n\t\t\tvar color = params.color;\n\t\t\tvar position = params.position;  //center-top, center-bottom\n\t\t\tvar defaultMarginValue = 50;\n\t\t\t\n\t\t\tif(time == undefined || time == \'\'){\n\t\t\t\ttime = 1500;\n\t\t\t}\n\t\t\t\n\t\t\tvar el = document.createElement("div");\n\t\t\tel.setAttribute("class", "web-toast-kkli9");\n\t\t\tel.innerHTML = params.message;\n\t\t\t//èƒŒæ™¯é¢œè‰²\n\t\t\tif(background!=undefined && background!=\'\'){\n\t\t\t\tel.style.backgroundColor=background;\n\t\t\t}\n\t\t\t//å­—ä½“é¢œè‰²\n\t\t\tif(color!=undefined && color!=\'\'){\n\t\t\t\tel.style.color=color;\n\t\t\t}\n\t\t\t\n\t\t\t//æ˜¾ç¤ºä½ç½®\n\t\t\tif(position==undefined || position==\'\'){\n\t\t\t\tposition = "center-bottom";\n\t\t\t}\n\t\t\t\n\t\t\t//è®¾ç½®æ˜¾ç¤ºä½ç½®ï¼Œå½“å‰æœ‰ç§ä¸¤ç§å½¢å¼\n\t\t\tif(position==="center-bottom"){\n\t\t\t\tel.style.bottom = defaultMarginValue+"px"; \n\t\t\t}else{\n\t\t\t\tel.style.top = defaultMarginValue+"px"; \n\t\t\t}\n\t\t\tel.style.zIndex=999999;\n\t\t\t\n\t\t\tdocument.body.appendChild(el);\n\t\t\tel.classList.add("fadeIn");\n\t\t\tsetTimeout(function () {\n\t\t\t\tel.classList.remove("fadeIn");\n\t\t\t\tel.classList.add("fadeOut");\n\t\t\t\t/*ç›‘å¬åŠ¨ç”»ç»“æŸï¼Œç§»é™¤æç¤ºä¿¡æ¯å…ƒç´ */\n\t\t\t\tel.addEventListener("animationend", function () {\n\t\t\t\t\tdocument.body.removeChild(el);\n\t\t\t\t});\n\t\t\t\tel.addEventListener("webkitAnimationEnd", function () {\n\t\t\t\t\tdocument.body.removeChild(el);\n\t\t\t\t});\n\t\t\t}, time);\n\t\t};\n\t\tthis.queryUrlParamter = function(text, tag) { //æŸ¥è¯¢GETè¯·æ±‚urlä¸­çš„å‚æ•°\n\t\t\tif(text.indexOf("?")!=-1){ //é€‰å–?åé¢çš„å­—ç¬¦ä¸²,å…¼å®¹window.location.searchï¼Œå‰é¢çš„?ä¸èƒ½å»æ‰\n\t\t\t\tvar textArray = text.split("?");\n\t\t\t\ttext = "?"+textArray[textArray.length-1];\n\t\t\t}\n\t\t\tvar t = new RegExp("(^|&)" + tag + "=([^&]*)(&|$)");\n\t\t\tvar a = text.substr(1).match(t);\n\t\t\tif (a != null){\n\t\t\t\treturn a[2];\n\t\t\t}\n\t\t\treturn "";\n\t\t};\n\t\tthis.isPC = function(){\n\t\t\tvar userAgentInfo = navigator.userAgent;\n\t\t\tvar Agents = ["Android", "iPhone","SymbianOS", "Windows Phone", "iPad", "iPod"];\n\t\t\tvar flag = true;\n\t\t\tfor (var v = 0; v < Agents.length; v++) {\n\t\t\t\tif (userAgentInfo.indexOf(Agents[v]) > 0) {\n\t\t\t\t\tflag = false;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn flag;\n\t\t};\n\t\tthis.getBilibiliBV=function(){\n\t\t\tvar pathname = window.location.pathname;\n\t\t\tvar bv = pathname.replace("/video/","").replace("/","");\n\t\t\treturn bv;\n\t\t};\n\t\tthis.getSystemOS=function(){\n\t\t\tvar u = navigator.userAgent;\n\t\t\tif (!!u.match(/compatible/i) || u.match(/Windows/i)) {\n\t\t\t\treturn \'windows\';\n\t\t\t} else if (!!u.match(/Macintosh/i) || u.match(/MacIntel/i)) {\n\t\t\t\treturn \'macOS\';\n\t\t\t} else if (!!u.match(/iphone/i) || u.match(/Ipad/i)) {\n\t\t\t\treturn \'ios\';\n\t\t\t} else if (!!u.match(/android/i)) {\n\t\t\t\treturn \'android\';\n\t\t\t} else {\n\t\t\t\treturn \'other\';\n\t\t\t}\n\t\t};\n\t\tthis.RPCDownloadFile = function(fileName, url, savePath="D:/", RPCURL="ws://localhost:16800/jsonrpc", RPCToken="") {\t\t\n\t\t\tconst self = this;\n\t\t\tif(!savePath){\n\t\t\t\tsavePath = "D:/";\n\t\t\t}\n\t\t\tif(!RPCURL){\n\t\t\t\tRPCURL = "ws://localhost:16800/jsonrpc";\n\t\t\t}\n\t\t\tlet options = { //ä¸‹è½½é…ç½®æ–‡ä»¶\n\t\t\t\t"dir":savePath,\n\t\t\t\t"max-connection-per-server": "16",\n\t\t\t\t"header":["User-Agent:"+navigator.userAgent+"", "Cookie:"+document.cookie+"", "Referer:"+window.location.href+""]\n\t\t\t}\n\t\t\tif(!!fileName) {\n\t\t\t\toptions.out = fileName;\n\t\t\t}\n\t\t\tlet jsonRPC = {\n\t\t\t\t"jsonrpc": "2.0",\n\t\t\t\t"id": "huahuacat",\n\t\t\t\t"method": "aria2.addUri",\n\t\t\t\t"params": [[url], options],\n\t\t\t}\n\t\t\tif (!!RPCToken) {\n\t\t\t\tjsonRPC.params.unshift("token:" + RPCToken); // å¿…é¡»è¦åŠ åœ¨ç¬¬ä¸€ä¸ª\n\t\t\t}\n\t\t\treturn new Promise(function(resolve, reject) {\n\t\t\t\tvar webSocket = new WebSocket(RPCURL);\n\t\t\t\twebSocket.onerror = function(event) {\n\t\t\t\t\tconsole.log("webSocket.onerror", event);\n\t\t\t\t\treject("Aria2è¿æ¥é”™è¯¯ï¼Œè¯·æ‰“å¼€Aria2å’Œæ£€æŸ¥RPCè®¾ç½®ï¼");\n\t\t\t\t}\n\t\t\t\twebSocket.onopen = function(){\n\t\t\t\t\twebSocket.send(JSON.stringify(jsonRPC));\n\t\t\t\t}\n\t\t\t\twebSocket.onmessage = function(event){\n\t\t\t\t\tlet result = JSON.parse(event.data);\n\t\t\t\t\tswitch (result.method) {\n\t\t\t\t\t\tcase "aria2.onDownloadStart":\n\t\t\t\t\t\t\tresolve("Aria2 å¼€å§‹ä¸‹è½½ã€"+fileName+"ã€‘");\n\t\t\t\t\t\t\twebSocket.close();\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase "aria2.onDownloadComplete":\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t};\n\t\tthis.getElementObject = function(selector, allowEmpty = true, delay=200){\n\t\t\treturn new Promise((resolve,reject) =>{\n\t\t\t\tlet totalDelay = 0;\n\t\t\t\tlet elementInterval = setInterval(()=>{\n\t\t\t\t\tif(totalDelay >= 3000){ //æ€»å…±æ£€æŸ¥3sï¼Œå¦‚æœè¿˜æ˜¯æ²¡æ‰¾åˆ°ï¼Œåˆ™è¿”å›\n\t\t\t\t\t\treject(false);\n\t\t\t\t\t\tclearInterval(elementInterval);\n\t\t\t\t\t}\n\t\t\t\t\tlet element = document.querySelector(selector);\n\t\t\t\t\tlet result = allowEmpty ? !!element : (!!element && !!element.innerHTML);\n\t\t\t\t\tif(result){\n\t\t\t\t\t\tclearInterval(elementInterval);\n\t\t\t\t\t\tresolve(element);\n\t\t\t\t\t}else{\n\t\t\t\t\t\ttotalDelay += delay;\n\t\t\t\t\t}\n\t\t\t\t}, delay);\n\t\t\t});\n\t\t};\n\t\t/**\n\t\t * @param {Object} time\n\t\t * @param {Object} format\n\t\t * æ—¶é—´æ ¼å¼åŒ–\n\t\t * DateFormat(new Date(dateCreated), "yyyy-MM-dd hh:mm:ss")\n\t\t */\n\t\tthis.DateFormat = function(time, format) {\n\t\t\tvar o = {\n\t\t\t\t"M+": time.getMonth() + 1, //æœˆä»½ \n\t\t\t\t"d+": time.getDate(), //æ—¥ \n\t\t\t\t"h+": time.getHours(), //å°æ—¶ \n\t\t\t\t"m+": time.getMinutes(), //åˆ† \n\t\t\t\t"s+": time.getSeconds(), //ç§’ \n\t\t\t\t"q+": Math.floor((time.getMonth() + 3) / 3), //å­£åº¦ \n\t\t\t\t"S": time.getMilliseconds() //æ¯«ç§’ \n\t\t\t};\n\t\t\tif(/(y+)/.test(format)){\n\t\t\t\tformat = format.replace(RegExp.$1, (time.getFullYear() + "").substr(4 - RegExp.$1.length));\n\t\t\t}\n\t\t\tfor(var k in o){\n\t\t\t\tif(new RegExp("(" + k + ")").test(format)){\n\t\t\t\t\tformat = format.replace(RegExp.$1, (RegExp.$1.length == 1) ? (o[k]) : (("00" + o[k]).substr(("" + o[k]).length)));\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn format;\n\t\t}\n\t}\n\t\n\t//å…¨å±€å¼¹çª—å¯¹è±¡\n\tconst popup = (function(){\n\t\tclass Popup {\n\t\t\tconstructor() {\n\t\t\t\tthis.mask = document.createElement(\'div\')\n\t\t\t\tthis.setStyle(this.mask, {\n\t\t\t\t\t"width": \'100%\',\n\t\t\t\t\t"height": \'100%\',\n\t\t\t\t\t"backgroundColor": \'rgba(0, 0, 0, .6)\',\n\t\t\t\t\t"position": \'fixed\',\n\t\t\t\t\t"left": "0px",\n\t\t\t\t\t"top": "0px",\n\t\t\t\t\t"bottom":"0px",\n\t\t\t\t\t"right":"0px",\n\t\t\t\t\t"z-index":"99999"\n\t\t\t\t})\n\t\t\t\t// åˆ›å»ºä¸­é—´æ˜¾ç¤ºå†…å®¹çš„æ°´å¹³å¹¶å‚ç›´å±…ä¸­çš„div\n\t\t\t\tthis.content = document.createElement(\'div\')\n\t\t\t\tthis.setStyle(this.content, {\n\t\t\t\t\t"max-width": \'400px\',\n\t\t\t\t\t"width":"100%",\n\t\t\t\t\t"max-height": \'600px\',\n\t\t\t\t\t"backgroundColor": \'#fff\',\n\t\t\t\t\t"boxShadow": \'0 0 2px #999\',\n\t\t\t\t\t"position": \'absolute\',\n\t\t\t\t\t"left": \'50%\',\n\t\t\t\t\t"top": \'50%\',\n\t\t\t\t\t"transform": \'translate(-50%,-50%)\',\n\t\t\t\t\t"borderRadius": \'3px\'\n\t\t\t\t})\n\t\t\t\t// å°†è¿™ä¸ªå°divæ”¾åœ¨é®ç½©ä¸­\n\t\t\t\tthis.mask.appendChild(this.content)\n\t\t\t}\n\t\t\tmiddleBox(param) {\n\t\t\t\t// å…ˆæ¸…ç©ºä¸­é—´å°divçš„å†…å®¹ - é˜²æ­¢è°ƒç”¨å¤šæ¬¡ï¼Œå‡ºç°æ··ä¹±\n\t\t\t\tthis.content.innerHTML = \'\'\n\t\t\t\tlet title = \'é»˜è®¤æ ‡é¢˜å†…å®¹\';\n\t\t\t\t// æ£€æµ‹å‚æ•°ç±»å‹\n\t\t\t\tif({}.toString.call(param) === \'[object String]\') {\n\t\t\t\t\ttitle = param\n\t\t\t\t} else if({}.toString.call(param) === \'[object Object]\') {\n\t\t\t\t\ttitle = param.title\n\t\t\t\t}\n\t\t\t\t// å°†é®ç½©æ”¾åœ¨bodyä¸­æ˜¾ç¤º\n\t\t\t\tdocument.body.appendChild(this.mask)\n\t\t\t\t// ç»™ä¸­é—´çš„å°divè®¾ç½®é»˜è®¤çš„æ’ç‰ˆ\n\t\t\t\t// ä¸Šé¢æ ‡é¢˜éƒ¨åˆ†\n\t\t\t\tthis.title = document.createElement(\'div\')\n\t\t\t\t// è®¾ç½®æ ·å¼\n\t\t\t\tthis.setStyle(this.title, {\n\t\t\t\t\t"width": \'100%\',\n\t\t\t\t\t"height": \'40px\',\n\t\t\t\t\t"lineHeight": \'40px\',\n\t\t\t\t\t"boxSizing": \'border-box\',\n\t\t\t\t\t"background-color":"#FF4D40",\n\t\t\t\t\t"color": \'#FFF\',\n\t\t\t\t\t"text-align": \'center\',\n\t\t\t\t\t"font-weight":"700",\n\t\t\t\t\t"font-size":"16px"\n\t\t\t\t\t\n\t\t\t\t})\n\t\t\t\t// è®¾ç½®é»˜è®¤æ ‡é¢˜å†…å®¹\n\t\t\t\tthis.title.innerText = title\n\t\t\t\t// å°†æ ‡é¢˜éƒ¨åˆ†æ”¾åœ¨ä¸­é—´divä¸­\n\t\t\t\tthis.content.appendChild(this.title)\n\t\t\t\t// å…³é—­æŒ‰é’®\n\t\t\t\tthis.closeBtn = document.createElement(\'div\')\n\t\t\t\t// è®¾ç½®å†…å®¹\n\t\t\t\tthis.closeBtn.innerText = \'Ã—\'\n\t\t\t\t// è®¾ç½®æ ·å¼\n\t\t\t\tthis.setStyle(this.closeBtn, {\n\t\t\t\t\t"textDecoration": \'none\',\n\t\t\t\t\t"color": \'#666\',\n\t\t\t\t\t"position": \'absolute\',\n\t\t\t\t\t"right": \'10px\',\n\t\t\t\t\t"top": \'0px\',\n\t\t\t\t\t"fontSize": \'25px\',\n\t\t\t\t\t"color": \'#FFF\',\n\t\t\t\t\t"display":"inline-block",\n\t\t\t\t\t"cursor":"pointer"\n\t\t\t\t})\n\t\t\t\t// å°†å…³é—­æŒ‰é’®æ”¾åœ¨ä¸­é—´å°divä¸­\n\t\t\t\tthis.title.appendChild(this.closeBtn)\n\t\t\t\tthis.closeBtn.onclick = () => this.close()\n\t\t\t}\n\t\t\t// å¼¹å‡ºæç¤ºæ¡†\n\t\t\tdialog(param) {\n\t\t\t\tthis.middleBox(param);\n\t\t\t\tthis.dialogContent = document.createElement(\'div\')\n\t\t\t\tthis.setStyle(this.dialogContent,{\n\t\t\t\t\t"padding":"15px",\n\t\t\t\t\t"max-height":"400px"\n\t\t\t\t})\n\t\t\t\tthis.dialogContent.innerHTML = param.content;\n\t\t\t\tthis.content.appendChild(this.dialogContent)\n\t\t\t\tparam.onContentReady(this);\n\t\t\t}\n\t\t\tclose() {\n\t\t\t\tdocument.body.removeChild(this.mask)\n\t\t\t\twindow.location.reload();\n\t\t\t}\n\t\t\tsetStyle(ele, styleObj) { // è®¾ç½®æ ·å¼çš„å‡½æ•°\n\t\t\t\tfor(let attr in styleObj){\n\t\t\t\t\tele.style[attr] = styleObj[attr]\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tlet popup = null;\n\t\treturn (function() {\n\t\t\tif(!popup) {\n\t\t\t\tpopup = new Popup()\n\t\t\t}\n\t\t\treturn popup;\n\t\t})()\n\t})();\n\t\n\t//è§£ææ¥å£é…ç½®\n\t//showType=1(ä»…PC), showType=2(ä»…mobile), showType=3(åŒæ—¶æ˜¾ç¤º)\n\tconst originalInterfaceList = [\n\t\t\n\t];\n\t\n\t//å…¨å±€ç»Ÿä¸€æ–¹æ³•å¯¹è±¡\n\tconst commonFunctionObject = new commonFunction(); \n\tcommonFunctionObject.addCommonHtmlCss();\t//ç»Ÿä¸€htmlã€csså…ƒç´ æ·»åŠ \n\t//ç»Ÿä¸€æ¥å£\n\tlet newOriginalInterfaceList = originalInterfaceList;\n\t\n\t//ç›¸å…³åŠŸèƒ½å…³é—­æ§åˆ¶\n\tlet functionController= commonFunctionObject.GMgetValue("setingData");\n\tif(!functionController){\n\t\tfunctionController={\n\t\t\t"bilibiliHelper":true,"superVideoHelper":true,"abroadVideoHelper":true,\n\t\t\t"searchEnginesNavigation":true,"zhihuHelper":true,\n\t\t\t"shortVideoDownload":true\n\t\t}\n\t}\t\n\t//ç”¨æˆ·åŠŸèƒ½è®¾ç½®å‡½æ•°\n\tfunction usersSeting(){\n\t\tvar bilibiliHelper=true, superVideoHelper=true, abroadVideoHelper=true, \n\t\tsearchEnginesNavigation=true, zhihuHelper=true, shortVideoDownload=true;\n\t\tvar isUpdateStorage = false;\n\t\tif(!functionController.hasOwnProperty("bilibiliHelper")){\n\t\t\tfunctionController.bilibiliHelper = true;\n\t\t\tisUpdateStorage = true;\n\t\t}else{\n\t\t\tbilibiliHelper = functionController.bilibiliHelper;\n\t\t}\n\t\tif(!functionController.hasOwnProperty("superVideoHelper")){\n\t\t\tfunctionController.superVideoHelper = true;\n\t\t\tisUpdateStorage = true;\n\t\t}else{\n\t\t\tsuperVideoHelper = functionController.superVideoHelper;\n\t\t}\n\t\tif(!functionController.hasOwnProperty("abroadVideoHelper")){\n\t\t\tfunctionController.abroadVideoHelper = true;\n\t\t\tisUpdateStorage = true;\n\t\t}else{\n\t\t\tabroadVideoHelper = functionController.abroadVideoHelper;\n\t\t}\n\t\tif(!functionController.hasOwnProperty("searchEnginesNavigation")){\n\t\t\tfunctionController.searchEnginesNavigation = true;\n\t\t\tisUpdateStorage = true;\n\t\t}else{\n\t\t\tsearchEnginesNavigation = functionController.searchEnginesNavigation;\n\t\t}\n\t\tif(!functionController.hasOwnProperty("zhihuHelper")){\n\t\t\tfunctionController.zhihuHelper = true;\n\t\t\tisUpdateStorage = true;\n\t\t}else{\n\t\t\tzhihuHelper = functionController.zhihuHelper;\n\t\t}\n\t\tif(!functionController.hasOwnProperty("shortVideoDownload")){\n\t\t\tfunctionController.shortVideoDownload = true;\n\t\t\tisUpdateStorage = true;\n\t\t}else{\n\t\t\tshortVideoDownload = functionController.shortVideoDownload;\n\t\t}\n\t\tif(isUpdateStorage){\n\t\t\tcommonFunctionObject.GMsetValue("setingData",functionController);\n\t\t}\n\t\tvar setingData=[\n\t\t\t{"tag":"bilibiliHelper", "name":"Bç«™ä½¿ç”¨åŠ©æ‰‹(è§†é¢‘ä¸‹è½½æ”¯æŒæ‰¹é‡ã€æµè§ˆè®°å½•ã€ä¸€é”®ä¸‰è¿)", "checked":bilibiliHelper},\n\t\t\t{"tag":"zhihuHelper", "name":"çŸ¥ä¹ä½¿ç”¨åŠ©æ‰‹(å†…å®¹æ ‡è¯†ã€é—®ç­”æ˜¾ç¤ºä¼˜åŒ–ã€è§†é¢‘ä¸‹è½½ç­‰)", "checked":zhihuHelper},\n\t\t\t{"tag":"superVideoHelper", "name":"å…¨ç½‘VIPè§†é¢‘è§£æ(æ”¯æŒçˆ±å¥‡è‰ºã€è…¾è®¯è§†é¢‘ã€Bç«™ç•ªå‰§ç­‰)", "checked":superVideoHelper},\n\t\t\t{"tag":"shortVideoDownload", "name":"çŸ­è§†é¢‘å»æ°´å°ä¸‹è½½(æ”¯æŒæŠ–éŸ³ã€å¿«æ‰‹ç­‰)", "checked":shortVideoDownload},\n\t\t\t{"tag":"abroadVideoHelper", "name":"å›½å¤–è§†é¢‘è§£æä¸‹è½½(æ”¯æŒæ²¹ç®¡ã€Facebookç­‰)", "checked":abroadVideoHelper},\n\t\t\t{"tag":"searchEnginesNavigation", "name":"æœç´¢å¼•æ“èµ„æºå¯¼èˆª(é€‚é…ç™¾åº¦ã€360ã€æœç‹—ã€å¿…åº”ç­‰)", "checked":searchEnginesNavigation},\n\t\t]\n\t\tvar content = "";\n\t\tfor(var i=0; i<setingData.length;i++){\n\t\t\tvar one = setingData[i];\n\t\t\tcontent += `\n\t\t\t\t<div style="padding: 5px 0px;">\n\t\t\t\t\t<input style="display:inline-block;width: 15px;height: 15px;display: inline-block;vertical-align: middle; -webkit-appearance:checkbox;margin-bottom: 3px;cursor: pointer;" name="Checkbox" type="checkbox" data-tag="`+one.tag+`" `+(one.checked ? "checked" : "")+`>\n\t\t\t\t\t<label style="display:inline-block;font-size: 14px;margin:3px 0;vertical-align: middle;font-weight:500;color:#000;">`+one.name+`</label>\n\t\t\t\t</div>\n\t\t\t`\n\t\t}\n\t\tpopup.dialog({\n\t\t\t"title":"åŠŸèƒ½å¼€å…³",\n\t\t\t"content":content,\n\t\t\t"onContentReady":function($that){\n\t\t\t\t$that.dialogContent.querySelectorAll("input[type=\'checkbox\']").forEach(function(checkbox){\n\t\t\t\t\tcheckbox.addEventListener("click", function(e){\n\t\t\t\t\t\tvar tag = e.target.getAttribute("data-tag");\n\t\t\t\t\t\tvar checked = e.target.checked;\n\t\t\t\t\t\tfunctionController[tag] = checked;\n\t\t\t\t\t\tcommonFunctionObject.GMsetValue("setingData",functionController);\n\t\t\t\t\t\tcommonFunctionObject.webToast({"message":"æ“ä½œæˆåŠŸ", "background":"#FF4D40"});\n\t\t\t\t\t});\n\t\t\t\t})\n\t\t\t}\n\t\t});\n\t}\n\t\n\t// èœå•æŒ‰é’®å¼¹æ¡†\n\tif(commonFunctionObject.isPC()){\n\t\tGM_registerMenuCommand("åŠŸèƒ½å¼€å…³",()=>usersSeting());\n\t}else{\n\t\tfunctionController.bilibiliHelper = false;\n\t\tfunctionController.abroadVideoHelper = false;\n\t\tfunctionController.searchEnginesNavigation = false;\n\t\tfunctionController.zhihuHelper = false;\n\t}\n\t\n\t/**\n\t * è¶…çº§è§£æåŠ©æ‰‹åŠŸèƒ½\n\t * \n\t * åŸä»£ç ä½œè€…ï¼šå°è‰¾ç‰¹\n\t * è„šæœ¬åœ°å€ï¼šhttps://greasyfork.org/zh-CN/scripts/407847\n\t * è§†é¢‘è§£ææ¥å£æ¥è‡ªï¼Œä½œè€…ï¼šæ‡’å“ˆå“ˆ\n\t * è„šæœ¬åœ°å€ï¼šhttps://greasyfork.org/zh-CN/scripts/370634\n\t * éµå¾ªAGPL Licenseå¼€æºåè®®\n\t */\n\tfunction superVideoHelper(originalInterfaceList){\n\t\tthis.originalInterfaceList = originalInterfaceList;\n\t\tthis.elementId = Math.ceil(Math.random()*100000000)+"mmx";\n\t\tthis.customInterfaceKey = "custom_interface_key_dddsdxxa";\n\t\tthis.quicklyInterfaceKey = "custom_quickly_interface_key_dddsdxxa";\n\t\tthis.defaultQuicklyInterfaceIndex = 1;\n\t\tthis.isRun = function(){ //åˆ¤æ–­æ˜¯å¦è¿è¡Œ\n\t\t\tconst host = window.location.host;\n\t\t\tconst urls = ["www.iqiyi.com","v.qq.com","youku.com", "www.le.com","mgtv.com","sohu.com", "acfun.cn","bilibili.com",\n\t\t\t\t"baofeng.com","pptv.com","1905.com","miguvideo.com","sports.iqiyi.com"];\n\t\t\tvar result = false;\n\t\t\tif(!host.startsWith("m.")){ //ä¸æ˜¯ç§»åŠ¨ç«¯æ‰§è¡Œ\n\t\t\t\tfor(var i=0; i<urls.length;i++){ //ä¸æ˜¯Bç«™ç›´æ¥åˆ¤æ–­\n\t\t\t\t\tif(window.location.host.indexOf("bilibili.com")==-1){\n\t\t\t\t\t\tif(window.location.host.indexOf(urls[i])!=-1){\n\t\t\t\t\t\t\tresult = true;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}else{\n\t\t\t\t\t\tif(window.location.href.indexOf("www.bilibili.com/bangumi/play")!=-1){ //æ˜¯Bç«™åªæœ‰ç•ªå‰§æ‰å¼€å¯VIPè§£æ\n\t\t\t\t\t\t\tresult = true;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn result;\n\t\t};\n\t\tthis.showPlayerWindow = function(playObject){\t//æ˜¾ç¤ºæ’­æ”¾çª—å£\n\t\t\tvar url = playObject.url + window.location.href;\n\t\t\tcommonFunctionObject.GMopenInTab(url);\n\t\t};\n\t\tthis.analysisCustomInterface = function(){ //è‡ªå®šä¹‰æ¥å£è§£æ\n\t\t\tvar customInterface = commonFunctionObject.GMgetValue(this.customInterfaceKey,"");\n\t\t\tif(!!customInterface){\n\t\t\t\ttry{\n\t\t\t\t\tvar customizeInterfaceList = new Array();\n\t\t\t\t\tvar analysisArray = customInterface.split("\\n");\n\t\t\t\t\tfor(var i=0;i<analysisArray.length;i++){\n\t\t\t\t\t\tvar onePiece = analysisArray[i];\n\t\t\t\t\t\tif(!!onePiece && onePiece.indexOf(",")!=-1){\n\t\t\t\t\t\t\tvar onePieceArray = onePiece.split(","); \n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tif(onePieceArray.length==2 && !!onePieceArray[0] && /(http|https):\\/\\/\\S*/.test(onePieceArray[1])){\n\t\t\t\t\t\t\t\tcustomizeInterfaceList.push({"name":""+onePieceArray[0]+"","url":""+onePieceArray[1]+"", "showType":1});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tthis.originalInterfaceList = customizeInterfaceList.concat(this.originalInterfaceList);\n\t\t\t\t}catch(e){}\n\t\t\t}\n\t\t};\n\t\tthis.getQuicklyInterfaceIndex = function(){\n\t\t\tvar quicklyInterfaceIndexString = commonFunctionObject.GMgetValue(this.quicklyInterfaceKey,"")+"";\n\t\t\tvar quicklyInterfaceIndex = this.defaultQuicklyInterfaceIndex;\n\t\t\tif(!!quicklyInterfaceIndexString){\n\t\t\t\tquicklyInterfaceIndex = parseInt(quicklyInterfaceIndexString);\n\t\t\t}\n\t\t\tif(this.originalInterfaceList.length-1<quicklyInterfaceIndex){\n\t\t\t\tquicklyInterfaceIndex = this.defaultQuicklyInterfaceIndex;\n\t\t\t}\n\t\t\treturn quicklyInterfaceIndex;\n\t\t};\n\t\tthis.addHtmlElements = function(){  //æ·»åŠ HTML\n\t\t\tconst vipVideoImageBase64 = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAC9klEQVRoQ+2ZPWgVQRDH/7/CWqOIYOFHFbRSjJhGMGDpByoIago70cqvUtQgdipWFqawMWghGIidhcHKQAJqEURBRfED1CCCjc3IPu4em31775J7d3m8cAtX3O7szP7nPzszx6EeH/T4+VUD6DaDTQbMbE+3D7MY+8Ckkw8BPFuMki7KDtUAuuh9Z3oZMtBljxY2X9eBwq4raWPNQEmOLKxm+TBgZqsknQ1dAVzNco+ZhWsm6ZakHZLC1mQyrZ5OX2RvzMxnSa8lzQJ/YwLzGDCze5JOeoI/gbVtAMxJ6vPW7wKnkr4qbEuaxccDcGWBsfNV0mjMmSGAg5LGA6XbgFehITPbLel5MN84ZAUAUjMPgWO+zZY7YGbvJW0OvRoB8EjSEW9+BhhIvOvCp0wGfPPbgZfpRAzATUnn56GEmJyLd39cBNxeF99FADTa42BskuQef4wDh9oB2CXpRbDpMPA4nTOz05LuBDLrgW+dAACGIkxfkHTDm/8DrMwEkBxgOskkqdwEcMAD4GLf3YF0PACOe+uFGMgA4Bj4EAAbAGbcXLQOmNklSdeCTRuBT2bWL+lNsLYfeFIRgH2SJgJ7GwCXYjMBrJb0K9jUiHEzG5F02VubA9b4skXvQMiAmW2VdFSSn24/As0kk1mJzeyppL3ewaaBnWY2K2mLNz8S5ueCAMLwz3q/DZxreweSe3BC0v1Ai7tkYXrsB96WwMBCAfQBv3MBJCD+SVrhaXaZ54z3PgUMhpYrZKCF7bbNnJk5BhwT6fghyW8thoGxigE4my6tXwemQlt5AGI1oamDSIFLmCuURiW5BOGPL8C7drGV206b2XdJ6yJKxoDhmPKCIeS61ZZClncxFgLAtcyxrnEwRmknDFQFIFYTWnJ/CVmoGgYSj7Z81OR86Lg7sOgPmnY6s0IpN4TyYrDb6zWAmoEOPVCHUIcO7Hh7/YemYxcWU7AMf3BkNGDF/FP9rkwGqjddkoWWv5Ql6V1yNXUdWHKXBwZ7noH/dP+HQNqheToAAAAASUVORK5CYII=";\n\t\t\tconst quicklyBase64 = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAv1JREFUWEfFl02IVWUYx39/EDdKoCiCGYquxNw404QL+wA/wIUfA5luMotk0jGoiDQFv1oMqCCOFkYQtopczKxMGsUUF2bNKsWFKBroJtLI2qjwl+dy7uV47jnnnntnygcOF97nfd7/777nfZ7nPeIZm8Zb3/ZsYBEwE5gFzAGmAX8lz9/AA0l7QnvcAGwvBd4E1gOTK/yxvQExZgDbbwHvAq9UEE1POSzpwzEB2D4KbG1TuD79G0nvdAxg+2egp0PxCBuS1NsRgG2PQbgeelbS0rYBbJ8DXisAuAdcB2Ykp7+M8ztJGyoD2H4J+AxYU7DqoKQP6j7b24AjJQQDknaUAtieDvQmz/KSxUYkNfltx07FjuVZv6RjhQC21wIHgHkV3vc2SZERTWb7d+CFHFevpKFcANvvA19UEK5PWSnphwKAS8DLGd8/wIuSbjcB2I4SubsN8Zj6iaSDBQB/AlMzvq8lvRdjTwEk5XSkTfHadEl5fyYOYRzGrC2TdOYpANvdwC+diKditgNXkxRcBSzLWe+CpFfr4w1q21eABZmAx8DFkrzvhHejpG/zAPqSbhaCtUfSv7YHgE87UcqJOSapPz1eqRDZ/h54Y4wQlyVls6H6fcD2r0BXpxB5h7QpC1otbjtq/ZRW8zL+nyS9XhTTqhR3SRpNB9u+k1y3qnAMS4qKWmhFlXAlsC/Z8lvAifodLlayPQysrkDQI6k0tfOKx0TgGjA3I7BO0sn6mO1DwEclED9KWtEKMg/gOLA5J/CupOczryN2aUlBneiTFGuVWrYUR6pFyhVZd86ZeARMyATcABZL+qMygO043eeBhQVBo5KiXDfM9iQgOlvWaq22lXj406X4c2BnQdDNaCqSTmUA4h2fzsRskfRlFfEGgO35QPTt53ICv0rEH2Z9tvcDu1LjtY+NquJpgLh8xCUkbb8B+9MnPwcgfUFttNhOANILxbfbIHBI0v2yxWx/DGwC3pYUpbptq52B5BYUPTryP2638fu/WKVu+F+SPAG7l/wh4NsJOQAAAABJRU5ErkJggg==";\n\t\t\tconst currentHost = window.location.host;\n\t\t\t\n\t\t\tconst quicklyInterfaceIndex = this.getQuicklyInterfaceIndex();\n\t\t\tvar currentQuicklyInterfaceObject = null;\n\t\t\t\n\t\t\tvar category_1_html = "";\n\t\t\tthis.originalInterfaceList.forEach((item, index) => {\n\t\t\t\tif(item.showType != 2){\n\t\t\t\t\tvar selected = ""\n\t\t\t\t\tif(index==quicklyInterfaceIndex){\n\t\t\t\t\t\tselected = "selected";\n\t\t\t\t\t\tcurrentQuicklyInterfaceObject =  item;\n\t\t\t\t\t}\n\t\t\t\t\tcategory_1_html += "<span title=\'"+item.name+"\' data-index=\'"+index+"\' class=\'"+selected+"\'>" + item.name + "</span>";\n\t\t\t\t}\n\t\t\t});\n\t\t\t\n\t\t\t//è·å¾—è‡ªå®šä¹‰ä½ç½®\n\t\t\tvar left = 0;\n\t\t\tvar top = 120;\n\t\t\tvar Position = commonFunctionObject.GMgetValue("Position_" + currentHost);\n\t\t\tif(!!Position){\n\t\t\t\tleft = Position.left;\n\t\t\t\ttop = Position.top;\n\t\t\t}\n\t\t\tvar color = "#FF4D40";\n\t\t\tvar hoverColor = "#000000";\n\t\t\tif(currentHost.indexOf("bilibili.com")!=-1){ //è‡ªå®šä¹‰ä¸»é¢˜\n\t\t\t\tcolor = "#fb7299";\n\t\t\t\thoverColor = "#00B0E1";\n\t\t\t}\n\t\t\tvar cssMould = `#vip_movie_box`+this.elementId+`{cursor:pointer; position:fixed; top:` + top + `px; left:` + left + `px; width:0px; z-index:99999999; font-size:16px; text-align:left;}\n\t\t\t\t\t\t\t#vip_movie_box`+this.elementId+` .img_box`+this.elementId+`{width:24px; height:32px;line-height:32px;text-align:center;background-color:`+color+`;}\n\t\t\t\t\t\t\t#vip_movie_box`+this.elementId+` .img_box`+this.elementId+`:hover{\n\t\t\t\t\t\t\t\tbackground: linear-gradient(30deg, #2a66ff 40%, `+color+`);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t#vip_movie_box`+this.elementId+` .img_box`+this.elementId+`>img {width:20px; display:inline-block; vertical-align:middle;}\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t#vip_movie_box`+this.elementId+` .showhide_box`+this.elementId+`{display:none;padding-left:5px;position: absolute;left: 24px;top: 0;}\n\t\t\t\t\t\t\t#vip_movie_box`+this.elementId+` .vip_mod_box_action_687ii{width:380px; max-height:400px; overflow-y:auto;background-color:rgba(241,241,241);}\n\t\t\t\t\t\t\t#vip_movie_box`+this.elementId+` .default-scrollbar-55678::-webkit-scrollbar{width:5px; height:1px;}\n\t\t\t\t\t\t\t#vip_movie_box`+this.elementId+` .default-scrollbar-55678::-webkit-scrollbar-thumb{box-shadow:inset 0 0 5px rgba(0, 0, 0, 0.2); background:#A8A8A8;}\n\t\t\t\t\t\t\t#vip_movie_box`+this.elementId+` .default-scrollbar-55678::-webkit-scrollbar-track{box-shadow:inset 0 0 5px rgba(0, 0, 0, 0.2); background:#F1F1F1;}\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t#vip_movie_box`+this.elementId+` .vip_mod_box_action_687ii> .item_box`+this.elementId+`{margin-bottom:10px;}\n\t\t\t\t\t\t\t#vip_movie_box`+this.elementId+` .vip_mod_box_action_687ii> .item_box`+this.elementId+`:last-child{margin-bottom:0px;}\n\t\t\t\t\t\t\t#vip_movie_box`+this.elementId+` .vip_mod_box_action_687ii> .item_box`+this.elementId+` >.title`+this.elementId+`{font-size:14px; text-align:left;color:#000000;font-weight:600;margin:5px 3px;}\n\t\t\t\t\t\t\t#vip_movie_box`+this.elementId+` .vip_mod_box_action_687ii> .item_box`+this.elementId+` >.interface_box`+this.elementId+`{}\n\t\t\t\t\t\t\t#vip_movie_box`+this.elementId+` .vip_mod_box_action_687ii> .item_box`+this.elementId+` >.interface_box`+this.elementId+`>span{border-radius:3px;border-top:3px solid `+color+`; border-bottom:3px solid `+color+`;display:inline-block;width:calc(25% - 6px);width:-moz-calc(25% - 6px);width: -webkit-calc(25% - 6px);height:20px;line-height:20px;background-color:`+color+`;color:#FFF;cursor:pointer;margin:3px;text-align:center;overflow:hidden;white-space: nowrap;text-overflow: ellipsis;-o-text-overflow:ellipsis;font-size:12px!important;box-sizing:content-box!important;}\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t#vip_movie_box`+this.elementId+` .vip_mod_box_action_687ii> .item_box`+this.elementId+` >.interface_box`+this.elementId+`>span:hover{border-top:3px solid `+hoverColor+`; border-bottom:3px solid `+hoverColor+`;}\n\t\t\t\t\t\t\t#vip_movie_box`+this.elementId+` .vip_mod_box_action_687ii> .item_box`+this.elementId+` >.interface_box`+this.elementId+`>span.selected{border-top:3px solid `+hoverColor+`; border-bottom:3px solid `+hoverColor+`;}\n\t\t\t\t\t\t\t#vip_movie_box`+this.elementId+` .vip_mod_box_action_687ii> .item_box`+this.elementId+` >.content`+this.elementId+`{font-size:12px;color:#000000;margin-left:3px;}\n\t\t\t\t\t\t\t`\n\t\t\tcommonFunctionObject.GMaddStyle(cssMould);\n\t\t\t\n\t\t\t//åŠ å…¥HTML\n\t\t\tvar htmlMould = `<div id=\'vip_movie_box`+this.elementId+`\'>\n\t\t\t\t\t\t\t\t<div class=\'plugin_inner_`+this.elementId+`\'>\n\t\t\t\t\t\t\t\t\t<div class="img_box`+this.elementId+`" id="img_box_jump_6667897iio"><img src=\'`+ vipVideoImageBase64 +`\' title=\'é€‰æ‹©è§£æçº¿è·¯\'/></div>\n\t\t\t\t\t\t\t\t\t<div class=\'showhide_box`+this.elementId+`\'>\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t<div class=\'vip_mod_box_action_687ii default-scrollbar-55678\'>\n\t\t\t\t\t\t\t\t\t\t\t<div class=\'item_box`+this.elementId+`\'>\n\t\t\t\t\t\t\t\t\t\t\t\t<div class=\'title`+this.elementId+`\'><b>æ¥å£æ·»åŠ </b></div>\n\t\t\t\t\t\t\t\t\t\t\t\t<div class=\'content`+this.elementId+`\'>\n\t\t\t\t\t\t\t\t\t\t\t\t\tå¯¹ç°æœ‰æ¥å£ä¸æ»¡æ„ï¼Ÿå¯æ·»åŠ è‡ªå®šä¹‰æ¥å£å“Ÿ~<span id="img_set_6667897iio" style="display:inline-block;border-radius:2px;margin-left:5px;padding:3px 5px;background-color:#CCC;cursor:pointer;">æ·»åŠ æ¥å£</span>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t<div class=\'title`+this.elementId+`\'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<a style="font-size:13px;color:blue;" href="javascript:void(0);" target="_blank">æ¥å£è¯·è‡ªè¡Œæ·»åŠ ~</a>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t<div class=\'item_box`+this.elementId+`\' style=\'min-height:80px;border:1px dashed #000;\'>\n\t\t\t\t\t\t\t\t\t\t\t\t<div class=\'interface_box`+this.elementId+`\'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t` + category_1_html + `\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t<div class=\'item_box`+this.elementId+`\'>\n\t\t\t\t\t\t\t\t\t\t\t\t<div class=\'title`+this.elementId+`\'><b>å…è´£å£°æ˜ï¼š</b></div>\n\t\t\t\t\t\t\t\t\t\t\t\t<div class=\'content`+this.elementId+`\'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t1ã€<b style=\'color:red;\'>éœ€è¦ä½¿ç”¨VIPè§†é¢‘è§£æçš„ï¼Œè¯·è‡ªè¡Œæ·»åŠ æ¥å£</b>ï¼Œç‰ˆæƒé—®é¢˜è¯·è”ç³»ç›¸å…³è§£ææ¥å£æ‰€æœ‰è€…ï¼Œè„šæœ¬ä¸æ‰¿æ‹…ç›¸å…³è´£ä»»ï¼"<br>\n\t\t\t\t\t\t\t\t\t\t\t\t\t2ã€ä¸ºåˆ›é€ è‰¯å¥½çš„åˆ›ä½œæ°›å›´ï¼Œè¯·å¤§å®¶æ”¯æŒæ­£ç‰ˆï¼<br>\n\t\t\t\t\t\t\t\t\t\t\t\t\t3ã€è„šæœ¬ä»…é™ä¸ªäººå­¦ä¹ äº¤æµï¼Œä½¿ç”¨å³å·²ä»£è¡¨æ‚¨å·²ç»å……åˆ†äº†è§£ç›¸å…³é—®é¢˜ï¼Œå¦åˆ™åæœè‡ªè´Ÿï¼Œç‰¹æ­¤å£°æ˜ï¼<br>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div class="img_box`+this.elementId+`" id="img_quickly_6667897iio"><img src=\'`+quicklyBase64+`\' title=\'å¿«é€Ÿå¼€å§‹(å½“å‰æ‰€é€‰æ¥å£ï¼š`+(currentQuicklyInterfaceObject==null ? \'æ— \' : currentQuicklyInterfaceObject.name)+`)\'/></div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t`;\n\t\t\t$("body").append(htmlMould);\n\t\t};\n\t\tthis.runEvent = function(){\t //äº‹ä»¶è¿è¡Œ\n\t\t\tvar that = this;\n\t\t\t$("#vip_movie_box"+this.elementId+" >.plugin_inner_"+this.elementId).on("mouseover", () => {\n\t\t\t\t$(".showhide_box"+this.elementId).show();\n\t\t\t});\n\t\t\t$("#vip_movie_box"+this.elementId+" >.plugin_inner_"+this.elementId).on("mouseout", () => {\n\t\t\t\t$(".showhide_box"+this.elementId).hide();\n\t\t\t});\n\t\t\t$("body").on("click","#vip_movie_box"+this.elementId+" .vip_mod_box_action_687ii>.item_box"+this.elementId+">.interface_box"+this.elementId+">span",function(){\n\t\t\t\tvar index = parseInt($(this).attr("data-index"));\n\t\t\t\tvar playObject = that.originalInterfaceList[index];\n\t\t\t\tthat.showPlayerWindow(playObject);\n\t\t\t\t\n\t\t\t\t$("#vip_movie_box"+that.elementId+" .vip_mod_box_action_687ii> .item_box"+that.elementId+">.interface_box"+that.elementId+">span").removeClass("selected");\n\t\t\t\t$(this).addClass("selected");\n\t\t\t\tcommonFunctionObject.GMsetValue(that.quicklyInterfaceKey, index);\n\t\t\t\t\n\t\t\t\t$("#img_quickly_6667897iio").find("img").attr("title","å¿«é€Ÿå¼€å§‹(å½“å‰æ‰€é€‰æ¥å£ï¼š"+playObject.name+")");\n\t\t\t});\n\t\t\t\t\t\t\n\t\t\t//ç‚¹å‡»è§†é¢‘æ’­æ”¾ç•Œé¢\n\t\t\t$("#img_box_jump_6667897iio").on("click", function(){\n\t\t\t\tcommonFunctionObject.GMopenInTab("https://laisoyiba.com/mov/s/?sv=3&url="+window.location.href);\n\t\t\t});\n\t\t\t\n\t\t\t//ç‚¹å‡»å¼¹å‡ºè®¾ç½®æ¡†\n\t\t\t$("#img_set_6667897iio").on("click", function(){\n\t\t\t\tthat.showSetingDialog();\n\t\t\t});\n\t\t\t\n\t\t\t$("#img_quickly_6667897iio").on("click", function(){\n\t\t\t\tconst quicklyInterfaceIndex = that.getQuicklyInterfaceIndex();\n\t\t\t\tvar playObject = that.originalInterfaceList[quicklyInterfaceIndex];\n\t\t\t\tthat.showPlayerWindow(playObject);\n\t\t\t});\n\t\t\t\n\t\t\t//å³é”®ç§»åŠ¨ä½ç½®\n\t\t\tvar movie_box = $("#vip_movie_box"+this.elementId);\n\t\t\tmovie_box.mousedown(function(e) {\n\t\t\t\tif (e.which == 3) {\n\t\t\t\t\te.preventDefault()\n\t\t\t\t\tmovie_box.css("cursor", "move");\n\t\t\t\t\tvar positionDiv = $(this).offset();\n\t\t\t\t\tvar distenceX = e.pageX - positionDiv.left;\n\t\t\t\t\tvar distenceY = e.pageY - positionDiv.top;\n\t\t\t\t\t\n\t\t\t\t\t$(document).mousemove(function(e) {\n\t\t\t\t\t\tvar x = e.pageX - distenceX;\n\t\t\t\t\t\tvar y = e.pageY - distenceY;\n\t\t\t\t\t\tvar windowWidth = $(window).width();\n\t\t\t\t\t\tvar windowHeight = $(window).height();\n\t\t\t\t\t\t\n\t\t\t\t\t\tif (x < 0) {\n\t\t\t\t\t\t\tx = 0;\n\t\t\t\t\t\t} else if (x >  windowWidth- movie_box.outerWidth(true) - 100) {\n\t\t\t\t\t\t\tx = windowWidth - movie_box.outerWidth(true) - 100;\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t\t\tif (y < 0) {\n\t\t\t\t\t\t\ty = 0;\n\t\t\t\t\t\t} else if (y > windowHeight - movie_box.outerHeight(true)) {\n\t\t\t\t\t\t\ty = windowHeight - movie_box.outerHeight(true);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tmovie_box.css("left", x);\n\t\t\t\t\t\tmovie_box.css("top", y);\n\t\t\t\t\t\tcommonFunctionObject.GMsetValue("Position_" + window.location.host,{ "left":x, "top":y});\n\t\t\t\t\t});\n\t\t\t\t\t$(document).mouseup(function() {\n\t\t\t\t\t\t$(document).off(\'mousemove\');\n\t\t\t\t\t\tmovie_box.css("cursor", "pointer");\n\t\t\t\t\t});\n\t\t\t\t\t$(document).contextmenu(function(e) {\n\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t});\n\t\t};\n\t\tthis.removeVideoAdBlock_iqiyi = function(){\n\t\t\t\n\t\t},\n\t\tthis.removeVideoAdBlock_vqq = function(){\n\n\t\t},\n\t\tthis.removeVideoAdBlock_youku = function(){\n\t\t\t\n\t\t},\n\t\tthis.removeVideoAdBlock_mgtv = function(){\n\t\t\t\n\t\t},\n\t\tthis.removeVideoAdBlock_sohu = function(){\n\t\t\t\n\t\t},\n\t\tthis.removeVideoAdBlock = function(){\n\t\t\tconst currentHost = window.location.host;\n\t\t\tif(currentHost.indexOf("www.iqiyi.com")!=-1){\n\t\t\t\tthis.removeVideoAdBlock_iqiyi();\n\t\t\t}else if(currentHost.indexOf("v.qq.com")!=-1){\n\t\t\t\tthis.removeVideoAdBlock_vqq();\n\t\t\t}else if(currentHost.indexOf("v.youku.com")!=-1){\n\t\t\t\tthis.removeVideoAdBlock_youku();\n\t\t\t}else if(currentHost.indexOf("www.mgtv.com")!=-1){\n\t\t\t\tthis.removeVideoAdBlock_mgtv();\n\t\t\t}else if(currentHost.indexOf("tv.sohu.com")!=-1){\n\t\t\t\tthis.removeVideoAdBlock_sohu();\n\t\t\t}\n\t\t};\n\t\tthis.showSetingDialog = function(){\n\t\t\tconst that = this;\n\t\t\tvar customInterfaceKey = that.customInterfaceKey;\n\t\t\tvar customInterface = commonFunctionObject.GMgetValue(customInterfaceKey, "");\n\t\t\t\n\t\t\tvar content = `\n\t\t\t\t<div>\n\t\t\t\t\t<div style="font-size:14px;font-weight:700;color:#000;">è‡ªå®šä¹‰è§£ææ¥å£</div>\n\t\t\t\t\t<div style="font-size:13px;color:red;">\t\t\t\t\t\n\t\t\t\t\t\tæ•°æ®æ ¼å¼ï¼š[åå­—] + [,] + [æ¥å£åœ°å€]<br>\n\t\t\t\t\t\tä¾‹å¦‚ï¼šå°±æ˜¯åå­—è€Œå·²,https://xxxxxx?url=<br>\n\t\t\t\t\t\tæ³¨ï¼šä¸€è¡Œä¸€ä¸ª\n\t\t\t\t\t</div>\n\t\t\t\t\t<div style="margin-top:5px;height:200px;width:100%;">\n\t\t\t\t\t\t<textarea \n\t\t\t\t\t\t\tplaceholder="è¯·ä¸¥æ ¼æŒ‰ç…§æ ¼å¼å¡«å†™ï¼Œå¦åˆ™ä¸ç”Ÿæ•ˆ"\n\t\t\t\t\t\t\tclass="custom-interface-textarea"\n\t\t\t\t\t\t\tstyle="color:#000;font-size:14px;box-sizing: border-box;-webkit-box-sizing: border-box;-moz-box-sizing: border-box;padding:5px;height:100%;width:100%;Overflow:auto;border:1px solid #ccc;resize:none;background-color:#FFF;outline:none;">`+customInterface+`</textarea>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div style="text-align:center;margin-top:15px;">\n\t\t\t\t\t\t<button class="save-custom-interface-btn" style="color:#000;cursor:pointer;">ä¿å­˜è‡ªå®šä¹‰æ¥å£</button>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t`;\n\t\t\tpopup.dialog({\n\t\t\t\t"title":"è§£ææ¥å£æ·»åŠ ",\n\t\t\t\t"content":content,\n\t\t\t\t"onContentReady":function($that){\n\t\t\t\t\tvar $saveCustomInterfaceBtn = $that.dialogContent.querySelector(".save-custom-interface-btn");\n\t\t\t\t\t$saveCustomInterfaceBtn.addEventListener("click", function(){\n\t\t\t\t\t\tvar $customInterfaceTextarea = $that.dialogContent.querySelector(".custom-interface-textarea");\n\t\t\t\t\t\tvar content = $customInterfaceTextarea.value;\n\t\t\t\t\t\tcommonFunctionObject.GMsetValue(customInterfaceKey, content);\n\t\t\t\t\t\tcommonFunctionObject.webToast({"message":"è‡ªå®šä¹‰æ¥å£ä¿å­˜æˆåŠŸ", "background":"#FF4D40"});\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t})\n\t\t}\n\t\tthis.start = function(){\t\t\t\n\t\t\tlet delayTimeMs = 0;\n\t\t\tif(window.location.host.indexOf("www.bilibili.com")!=-1){\n\t\t\t\tdelayTimeMs = 2200;\n\t\t\t}\n\t\t\tsetTimeout(()=>{\n\t\t\t\ttry{\n\t\t\t\t\tthis.removeVideoAdBlock();\n\t\t\t\t}catch(e){}\n\t\t\t\ttry{\n\t\t\t\t\tthis.analysisCustomInterface();\n\t\t\t\t\tthis.addHtmlElements();\n\t\t\t\t\tthis.runEvent();\n\t\t\t\t}catch(e){}\n\t\t\t}, delayTimeMs);\n\t\t};\n\t};\n\t\n\t/**\n\t * ç§»åŠ¨ç«¯VIPè§£æ\n\t * @param {Object} originalInterfaceList\n\t */\n\tfunction superVideoHelperMobile(originalInterfaceList){\n\t\tthis.originalInterfaceList = originalInterfaceList;\n\t\tthis.elementId = Math.ceil(Math.random()*100000000)+"mmx";\n\t\tthis.quicklyInterfaceKey = "custom_mobile_quickly_interface_key_dddsdxxa";\n\t\tthis.defaultQuicklyInterfaceIndex = 2;\n\t\tthis.playerNodes=[\n\t\t\t{"url":"m.iqiyi.com", "showNode":".m-video-player-wrap", "color":"#05B03B"},\n\t\t\t{"url":"m.v.qq.com", "showNode":".mod_player", "color":"#F99D39"},\n\t\t\t{"url":"m.youku.com", "showNode":".h5-detail-player", "color":"#08BAFD"},\n\t\t\t{"url":"m.mgtv.com", "showNode":".video-area", "color":"#E95904"}\n\t\t];\n\t\tthis.isRun = function(){ //åˆ¤æ–­æ˜¯å¦è¿è¡Œ\n\t\t\tconst host = window.location.host;\n\t\t\tconst urls = ["m.iqiyi.com","m.v.qq.com","m.youku.com", "m.mgtv.com", "m.bilibili.com"];\n\t\t\tvar result = false;\n\t\t\tif(host.startsWith("m.")){ //æ˜¯ç§»åŠ¨ç«¯æ‰§è¡Œ\n\t\t\t\tfor(var i=0; i<urls.length; i++){\n\t\t\t\t\tif(host.indexOf(urls[i]) != -1){\n\t\t\t\t\t\tresult = true;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn result;\n\t\t};\n\t\tthis.getwindowElement = function(){\n\t\t\tvar nodeObject = null;\n\t\t\tfor(var i in this.playerNodes) { //è·å¾—çª—å£ID\n\t\t\t\tif (this.playerNodes[i].url == window.location.host) {\n\t\t\t\t\tnodeObject = this.playerNodes[i];\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn nodeObject;\n\t\t};\n\t\tthis.getQuicklyInterfaceIndex = function(){\n\t\t\tvar quicklyInterfaceIndexString = commonFunctionObject.GMgetValue(this.quicklyInterfaceKey,"")+"";\n\t\t\tvar quicklyInterfaceIndex = this.defaultQuicklyInterfaceIndex;\n\t\t\tif(!!quicklyInterfaceIndexString){\n\t\t\t\tquicklyInterfaceIndex = parseInt(quicklyInterfaceIndexString);\n\t\t\t}\n\t\t\tif(this.originalInterfaceList.length-1<quicklyInterfaceIndex){\n\t\t\t\tquicklyInterfaceIndex = this.defaultQuicklyInterfaceIndex;\n\t\t\t}\n\t\t\treturn quicklyInterfaceIndex;\n\t\t};\n\t\tthis.addHtmlElements = function(){\n\t\t\tlet nodeObject = this.getwindowElement();\n\t\t\tconst quicklyInterfaceIndex = this.getQuicklyInterfaceIndex();\n\t\t\tif(!nodeObject) return;\n\t\t\treturn new Promise((resolve, reject)=>{\n\t\t\t\tconst elementInterval = setInterval(()=>{\n\t\t\t\t\tconst nodeElementObject = $(nodeObject.showNode), themeColor = nodeObject.color;\n\t\t\t\t\t\n\t\t\t\t\tif(nodeElementObject.length == 0) return;\n\t\t\t\t\tclearInterval(elementInterval);\n\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t//æ·»åŠ HTML\n\t\t\t\t\tlet category_1_html = "";\n\t\t\t\t\tthis.originalInterfaceList.forEach((item, index) => {\n\t\t\t\t\t\tif (item.showType != 1) {\n\t\t\t\t\t\t\tvar selected = "";\n\t\t\t\t\t\t\tif(index==quicklyInterfaceIndex){\n\t\t\t\t\t\t\t\tselected = "selected";\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tcategory_1_html += "<option value=\'"+item.url+"\' index=\'"+index+"\' "+selected+">"+item.name+"</option>";\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\tvar htmlMould = `\n\t\t\t\t\t\t<div style="margin:15px 15px 50px 15px;padding:10px;background-color:`+themeColor+`;border-radius:4px;cursor:pointer;z-index: 999999999999999999999;color:#FFF;">\n\t\t\t\t\t\t\t\t<div style="font-weight:700;font-size:14px;text-align:center;">\n\t\t\t\t\t\t\t\t\t<span>é€‰æ‹©è§£ææ¥å£</span>\n\t\t\t\t\t\t\t\t\t<select id="interface_selection_`+this.elementId+`" style="background-color:#FFF;padding: 0px 10px;">\n\t\t\t\t\t\t\t\t\t\t`+category_1_html+`\n\t\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div style="text-align:center;">\n\t\t\t\t\t\t\t\t\t<a href="javascript:void(0);" id="start_analysis_outer_`+this.elementId+`" style="box-sizing:border-box;margin:10px 0px;display:inline-block;padding:10px 0px;width:100%;border-radius:4px;color:#FFF;background-color:#F2503F;font-size:14px;">ç«™å¤–è§£æ</a>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div style="text-align:left;font-size:10px;">\n\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\tå…è´£ç”³æ˜ï¼š1ã€VIPè§†é¢‘è§£æä¸­æ‰€ç”¨åˆ°çš„è§£ææ¥å£å…¨éƒ¨æ”¶é›†è‡ªäº’è”ç½‘ï¼ˆæºç å¯è§ï¼‰ï¼Œç‰ˆæƒé—®é¢˜è¯·è”ç³»ç›¸å…³è§£ææ¥å£æ‰€æœ‰è€…ï¼\n\t\t\t\t\t\t\t\t\t\t2ã€ä¸ºåˆ›é€ è‰¯å¥½çš„åˆ›ä½œæ°›å›´ï¼Œè¯·å¤§å®¶æ”¯æŒæ­£ç‰ˆï¼\n\t\t\t\t\t\t\t\t\t\t3ã€è„šæœ¬ä»…é™ä¸ªäººå­¦ä¹ äº¤æµï¼Œåˆ‡å‹¿ç”¨äºä»»ä½•å•†ä¸šç­‰å…¶å®ƒç”¨é€”ï¼\n\t\t\t\t\t\t\t\t\t\t4ã€ç»§ç»­ä½¿ç”¨ï¼Œå³è¡¨æ˜ä½ å·²ç»æ˜ç¡®ä½¿ç”¨è„šæœ¬å¯èƒ½å¸¦æ¥çš„é£é™©ï¼Œä¸”æ„¿æ„è‡ªè¡Œæ‰¿æ‹…ç›¸å…³é£é™©ï¼Œå¯¹äºé£é™©è„šæœ¬ä¸æ‰¿æ‹…ä»»ä½•è´£ä»»ï¼\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t`;\n\t\t\t\t\tnodeElementObject.after(htmlMould);\n\t\t\t\t\tresolve("ok");\n\t\t\t\t}, 100);\n\t\t\t});\n\t\t};\n\t\tthis.getPlayObjectBySelect = function(){\n\t\t\t\n\t\t\tvar indexString = $("#interface_selection_"+this.elementId).find("option:selected").attr("index");\n\t\t\tvar index = 0;\n\t\t\tif(!!indexString){\n\t\t\t\tindex = parseInt(indexString);\n\t\t\t}\n\t\t\treturn this.originalInterfaceList[index];\n\t\t};\n\t\tthis.runEvent = function(){\t //äº‹ä»¶è¿è¡Œ\n\t\t\tconst self = this;\n\n\t\t\t//åˆå§‹åŒ–\n\t\t\tvar playObject = self.getPlayObjectBySelect();\n\t\t\t$(\'#start_analysis_outer_\'+self.elementId).attr("href", playObject.url + window.location.href);\n\t\t\t$(\'#start_analysis_outer_\'+self.elementId).on(\'click\', function (e) {\n\t\t\t\tif(commonFunctionObject.GMgetValue("copyright_video_remind_mobile_outer",null)==="true"){\n\t\t\t\t\t\n\t\t\t\t}else{\n\t\t\t\t\tvar r=confirm(\n\t\t\t\t\t\t"è„šæœ¬è¿è¡Œæé†’ï¼ï¼ï¼\\u000d"+\n\t\t\t\t\t\t"ä½¿ç”¨ç«™å¤–è§£æåŠŸèƒ½ï¼Œè§†é¢‘è§£ææ—¶è„šæœ¬è·³å‡ºæœ¬é¡µé¢ï¼Œå¦‚ä¸åŒæ„æ­¤è„šæœ¬è¡Œä¸ºï¼Œè¯·ç‚¹å‡»ã€å–æ¶ˆã€‘æŒ‰é’®ï¼ï¼"\n\t\t\t\t\t);\n\t\t\t\t\tif(r==false){\n\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t}else{\n\t\t\t\t\t\tcommonFunctionObject.GMsetValue("copyright_video_remind_mobile_outer","true");\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t\t//æ¥å£åˆ‡æ¢\n\t\t\t$(\'#interface_selection_\'+self.elementId).on(\'change\', function () {\n\t\t\t\tvar $option = $(this).find("option:selected");\n\t\t\t\tvar value = $option.val();\n\t\t\t\tvar index = parseInt($option.attr("index"));\n\t\t\t\t$(\'#start_analysis_outer_\'+self.elementId).attr("href", value+window.location.href);\n\t\t\t\tcommonFunctionObject.GMsetValue(self.quicklyInterfaceKey, index);\n\t\t\t});\n\t\t};\n\t\tthis.start = function(){\n\t\t\tconst self = this;\n\t\t\tif(this.isRun()){\n\t\t\t\tthis.addHtmlElements().then(()=>{\n\t\t\t\t\tself.runEvent();\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t}\n\t\n\t/**\n\t * Bç«™ç›¸å…³åŠŸèƒ½ï¼šè§†é¢‘å¤šPä¸‹è½½ï¼Œä¸€é”®ä¸‰è”ï¼Œæµè§ˆè®°å½•ç­‰\n\t */\n\tfunction bilibiliHelper(){\n\t\tthis.isRun = function(){\n\t\t\treturn window.location.host.indexOf("bilibili.com") != -1\n\t\t}\n\t\tthis.baseFunction = function(){\n\t\t\t/**\n\t\t\t * bç«™åŸºæœ¬åŠŸèƒ½ï¼Œä¸€ä»¶ä¸‰è¿ã€è§†é¢‘è§£æã€è§†é¢‘ä¸‹è½½\n\t\t\t */ \n\t\t\tfunction baseFunctionObject(){\n\t\t\t\tthis.elementId = Math.ceil(Math.random()*100000000)+"mmx";\n\t\t\t\tthis.downloadResutError=function(btnElement){\n\t\t\t\t\tbtnElement.text("ä¸‹è½½è§†é¢‘/å°é¢ï¼ˆæœ€é«˜æ¸…ï¼‰");\n\t\t\t\t\tbtnElement.removeAttr("disabled");\n\t\t\t\t};\n\t\t\t\tthis.downloadResutSuccess=function(btnElement){\n\t\t\t\t\tbtnElement.text("ä¸‹è½½è§†é¢‘/å°é¢ï¼ˆæœ€é«˜æ¸…ï¼‰");\n\t\t\t\t\tbtnElement.removeAttr("disabled");\n\t\t\t\t};\n\t\t\t\tthis.getDownloadPages = function(){\n\t\t\t\t\treturn new Promise(function(resolve, reject) {\n\t\t\t\t\t\tvar pathname = window.location.pathname, bv = null;\n\t\t\t\t\t\tif (pathname.indexOf("/medialist/play/watchlater/") != -1) { // åœ¨ä¸‹è½½è§†é¢‘çš„æ—¶å€™é’ˆå¯¹ç¨åå†çœ‹é¡µé¢çš„é“¾æ¥æ‰¾BVå·\n\t\t\t\t\t\t\tbv = pathname.replace("/medialist/play/watchlater/","").replace("/","");\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\tbv = pathname.replace("/video/","").replace("/","");\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(!bv){\n\t\t\t\t\t\t\tresolve({"status":"bv_null"});\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t\t//bvè½¬av\n\t\t\t\t\t\tcommonFunctionObject.request("get", "https://api.bilibili.com/x/web-interface/view?bvid="+bv, null).then((resultData)=>{\n\t\t\t\t\t\t\tlet dataJson = JSON.parse(resultData.data);\n\t\t\t\t\t\t\tif(!dataJson || dataJson.code!==0 || !dataJson.data){\n\t\t\t\t\t\t\t\tresolve({"status":"request_error"});\n\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tlet data = dataJson.data;\n\t\t\t\t\t\t\tif(!data){\n\t\t\t\t\t\t\t\tresolve({"status":"aid_null"});\n\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tlet aid = data.aid;\n\t\t\t\t\t\t\tlet pic = data.pic;\n\t\t\t\t\t\t\tlet title = data.title\n\t\t\t\t\t\t\tif(!aid){\n\t\t\t\t\t\t\t\tresolve({"status":"aid_null"});\n\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t//è·å–cid\n\t\t\t\t\t\t\tcommonFunctionObject.request("get", "https://api.bilibili.com/x/web-interface/view?aid="+aid, null).then((resultData2)=>{\n\t\t\t\t\t\t\t\tlet dataJson2 = JSON.parse(resultData2.data);\n\t\t\t\t\t\t\t\tif(!dataJson2 || dataJson2.code!==0 || !dataJson2.data){\n\t\t\t\t\t\t\t\t\tresolve({"status":"request_error"});\n\t\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tconst downloadData = dataJson2.data;\n\t\t\t\t\t\t\t\tconst aid = downloadData.aid, bvid = downloadData.bvid;\n\t\t\t\t\t\t\t\tconst pages = new Array();\n\t\t\t\t\t\t\t\tfor(var i=0; i<downloadData.pages.length; i++){\n\t\t\t\t\t\t\t\t\tlet pageData = downloadData.pages[i];\n\t\t\t\t\t\t\t\t\tpages.push({\n\t\t\t\t\t\t\t\t\t\t"cover":pageData.first_frame,\n\t\t\t\t\t\t\t\t\t\t"page":pageData.page,\n\t\t\t\t\t\t\t\t\t\t"part":pageData.part,\n\t\t\t\t\t\t\t\t\t\t"cid":pageData.cid\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tresolve({"status":"success", "downloadData":{\n\t\t\t\t\t\t\t\t\t"aid":aid, "bvid":bvid, "pages":pages, "pic":pic, "title":title\n\t\t\t\t\t\t\t\t}});\n\t\t\t\t\t\t\t}).catch((errorData)=>{\n\t\t\t\t\t\t\t\tresolve({"status":"request_error"});\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}).catch((errorData)=>{\n\t\t\t\t\t\t\tresolve({"status":"request_error"});\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\t\t\t\t};\n\t\t\t\tthis.startDownloadFile = function(options){\n\t\t\t\t\tlet aid = options.aid, cid = options.cid, fileName = options.fileName, \n\t\t\t\t\t\tsavePath = options.savePath, RPCURL = options.RPCURL, RPCToken = options.RPCToken;\n\t\t\t\t\tlet isByPRC = options.isByPRC;\n\t\t\t\t\t\n\t\t\t\t\tcommonFunctionObject.request("get", "https://api.bilibili.com/x/player/playurl?avid="+aid+"&cid="+cid+"&qn=112", null).then((resultData3)=>{\n\t\t\t\t\t\tlet dataJson3 = JSON.parse(resultData3.data);\n\t\t\t\t\t\t//console.log("è·å–è§†é¢‘æ•°æ®ï¼Œå‡†å¤‡ä¸‹è½½", dataJson3);\n\t\t\t\t\t\tif(!!dataJson3 && dataJson3.code===0 && !!dataJson3.data){\n\t\t\t\t\t\t\tlet downloadUrl = dataJson3.data.durl[0].url;\n\t\t\t\t\t\t\tif(isByPRC){\n\t\t\t\t\t\t\t\tif(!fileName){\n\t\t\t\t\t\t\t\t\tfileName = (new Date()).getTime() + "";\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tfileName = fileName.replace(/[\\ |\\~|\\`|\\=|\\||\\\\|\\;|\\:|\\"|\\\'|\\,|\\.|\\>|\\/]/g,"");\n\t\t\t\t\t\t\t\tfileName = fileName.substring(0,50); //å¯èƒ½æœ‰å¼‚å¸¸ï¼Œæ ‡é¢˜æœ€å¤š50å­—ç¬¦\n\t\t\t\t\t\t\t\tfileName = fileName + ".flv";  //Bç«™ä¸‹è½½é»˜è®¤FLVæ ¼å¼\n\t\t\t\t\t\t\t\tcommonFunctionObject.RPCDownloadFile(fileName, downloadUrl, savePath, RPCURL).then((data)=>{\n\t\t\t\t\t\t\t\t\tcommonFunctionObject.webToast({"message":data, "time":3000});\n\t\t\t\t\t\t\t\t}).catch((data)=>{\n\t\t\t\t\t\t\t\t\tcommonFunctionObject.webToast({"message":data, "time":3000});\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\t\twindow.open(downloadUrl);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\tcommonFunctionObject.webToast({"message":"è·å–ä¸‹è½½é“¾æ¥å¤±è´¥", "background":"#FF4D40"});\n\t\t\t\t\t\t}\n\t\t\t\t\t}).catch((errorData)=>{\n\t\t\t\t\t\tcommonFunctionObject.webToast({"message":"è·å–ä¸‹è½½é“¾æ¥å¤±è´¥", "background":"#FF4D40"});\n\t\t\t\t\t});\n\t\t\t\t};\n\t\t\t\tthis.createModals = function(){\n\t\t\t\t\tvar css = `\n\t\t\t\t\t\t.modal-mask-`+this.elementId+`{\n\t\t\t\t\t\t\tposition:fixed;\n\t\t\t\t\t\t\ttop:0;\n\t\t\t\t\t\t\tleft:0;\n\t\t\t\t\t\t\tz-index:999;\n\t\t\t\t\t\t\twidth:100%;\n\t\t\t\t\t\t\theight:100%;\n\t\t\t\t\t\t\tdisplay:none;\n\t\t\t\t\t\t\tbackground-color:#000;\n\t\t\t\t\t\t\topacity:0.3;\n\t\t\t\t\t\t\toverflow:hidden;\n\t\t\t\t\t\t}\n\t\t\t\t\t\t.modal-body-`+this.elementId+`{\n\t\t\t\t\t\t\tposition:fixed;\n\t\t\t\t\t\t\tborder-radius:5px;\n\t\t\t\t\t\t\tbackground-color: #FFFFFF;\n\t\t\t\t\t\t\ttop:10%;\n\t\t\t\t\t\t\twidth:600px;\n\t\t\t\t\t\t\tmax-width:90%;\n\t\t\t\t\t\t\tmax-height:80%;\n\t\t\t\t\t\t\tz-index:1000;\n\t\t\t\t\t\t\tleft: 50%;\n\t\t\t\t\t\t\ttransform: translateX(-50%);\n\t\t\t\t\t\t\tdisplay:none;\n\t\t\t\t\t\t\tpadding: 10px;\n\t\t\t\t\t\t\toverflow-y: auto;\n\t\t\t\t\t\t}\n\t\t\t\t\t\t.modal-body-`+this.elementId+` >.page-header{\n\t\t\t\t\t\t\theight:30px;\n\t\t\t\t\t\t\tline-height:30px;\n\t\t\t\t\t\t\tposition:relative;\n\t\t\t\t\t\t}\n\t\t\t\t\t\t.modal-body-`+this.elementId+` >.page-header >span{\n\t\t\t\t\t\t\tdisplay:inline-block;\n\t\t\t\t\t\t}\n\t\t\t\t\t\t.modal-body-`+this.elementId+` >.page-header >span:nth-child(1) {\n\t\t\t\t\t\t\tfont-size:18px;\n\t\t\t\t\t\t\tfont-weight:bold;\n\t\t\t\t\t\t\tposition:absolute;\n\t\t\t\t\t\t\tleft:10px;\n\t\t\t\t\t\t}\n\t\t\t\t\t\t.modal-body-`+this.elementId+` >.page-header >span:nth-child(2) {\n\t\t\t\t\t\t\tfont-size:28px;\n\t\t\t\t\t\t\tfont-weight:bold;\n\t\t\t\t\t\t\tposition:absolute;\n\t\t\t\t\t\t\tright:10px;\n\t\t\t\t\t\t\tcursor:pointer;\n\t\t\t\t\t\t}\n\t\t\t\t\t\t.modal-body-`+this.elementId+` >.page-container{\n\t\t\t\t\t\t\tmax-height: 500px;\n\t\t\t\t\t\t\toverflow-y: auto;\n\t\t\t\t\t\t}\n\t\t\t\t\t\t.modal-body-`+this.elementId+` .page-wrap{\n\t\t\t\t\t\t\tdisplay: flex;\n\t\t\t\t\t\t\tflex-wrap: wrap;\n\t\t\t\t\t\t\tmargin-top:5px;\n\t\t\t\t\t\t}\n\t\t\t\t\t\t.modal-body-`+this.elementId+` .page-wrap >.board-item{\n\t\t\t\t\t\t\tdisplay: block;\n\t\t\t\t\t\t\twidth: calc(50% - 10px);\n\t\t\t\t\t\t\tbackground-color: #6A5F60;\n\t\t\t\t\t\t\tmargin: 5px;\n\t\t\t\t\t\t\tbackground-color:#FB7299;\n\t\t\t\t\t\t\tcolor:#FFFFFF;\n\t\t\t\t\t\t\tcursor: pointer;\n\t\t\t\t\t\t\toverflow:hidden;\n\t\t\t\t\t\t\twhite-space:nowrap;\n\t\t\t\t\t\t\ttext-overflow:ellipsis;\n\t\t\t\t\t\t}\n\t\t\t\t\t\t.modal-body-`+this.elementId+` .page-wrap >.board-item >input{\n\t\t\t\t\t\t\twidth: 14px;\n\t\t\t\t\t\t\theight: 14px;\n\t\t\t\t\t\t\tvertical-align: middle;\n\t\t\t\t\t\t\tmargin-right:5px;\n\t\t\t\t\t\t}\n\t\t\t\t\t\t.modal-body-`+this.elementId+` .page-wrap >.board-item >span{\n\t\t\t\t\t\t\tvertical-align: middle;\n\t\t\t\t\t\t}\n\t\t\t\t\t\t.modal-body-`+this.elementId+` .modal-btn-wrap{\n\t\t\t\t\t\t\ttext-align: center;\n\t\t\t\t\t\t\tmargin-top: 10px;\n\t\t\t\t\t\t\tcursor: pointer;\n\t\t\t\t\t\t}\n\t\t\t\t\t\t.modal-body-`+this.elementId+` .aria2-setting{\n\t\t\t\t\t\t\tborder:1px dashed #F1F1F1;\n\t\t\t\t\t\t\tborder-radius:4px;\n\t\t\t\t\t\t\tmargin-top:10px;\n\t\t\t\t\t\t}\n\t\t\t\t\t\t.modal-body-`+this.elementId+` .aria2-setting >.setting-item{\n\t\t\t\t\t\t\ttext-align: center;\n\t\t\t\t\t\t\tfont-size:14px;\n\t\t\t\t\t\t\tmargin:10px 0px;\n\t\t\t\t\t\t}\n\t\t\t\t\t\t.modal-body-`+this.elementId+` .aria2-setting >.setting-item .topic-name{\n\t\t\t\t\t\t\tdisplay:inline-block;\n\t\t\t\t\t\t\twidth:80px;\n\t\t\t\t\t\t\ttext-align:left;\n\t\t\t\t\t\t}\n\t\t\t\t\t\t.modal-body-`+this.elementId+` .aria2-setting >.setting-item> input{\n\t\t\t\t\t\t\twidth:300px;\n\t\t\t\t\t\t\tpadding-left:10px;\n\t\t\t\t\t\t\tborder:1px solid #888;\n\t\t\t\t\t\t\toutline:none;\n\t\t\t\t\t\t\tborder-radius:3px;\n\t\t\t\t\t\t}\n\t\t\t\t\t\t.modal-body-`+this.elementId+` .modal-btn-wrap >span{\n\t\t\t\t\t\t\tborder:1px solid #ccc;\n\t\t\t\t\t\t\tdisplay:inline-block;\n\t\t\t\t\t\t\tpadding:3px 5px;\n\t\t\t\t\t\t\tmargin:0px 5px;\n\t\t\t\t\t\t\tborder-radius:3px;\n\t\t\t\t\t\t}\n\t\t\t\t\t\t.modal-body-`+this.elementId+` .tip-wrap{\n\t\t\t\t\t\t\tmargin-top: 10px;\n\t\t\t\t\t\t\tfont-size:12px;\n\t\t\t\t\t\t}\n\t\t\t\t\t\t.modal-body-`+this.elementId+` .tip-wrap >.title{\n\t\t\t\t\t\t\tfont-size:16px;\n\t\t\t\t\t\t\tfont-weight:bold;\n\t\t\t\t\t\t}\n\t\t\t\t\t\t.modal-body-`+this.elementId+` .tip-wrap >.content >ul >li{\n\t\t\t\t\t\t\tmargin-top:5px;\n\t\t\t\t\t\t}\n\t\t\t\t\t`;\n\t\t\t\t\t\n\t\t\t\t\tvar savePath = "D:/";\n\t\t\t\t\tif("macOS"===commonFunctionObject.getSystemOS()){\n\t\t\t\t\t\tsavePath = "/Users"\n\t\t\t\t\t}\n\t\t\t\t\tvar html = `\n\t\t\t\t\t\t<div class=\'modal-mask-`+this.elementId+`\'></div>\n\t\t\t\t\t\t<div class=\'modal-body-`+this.elementId+`\'>\n\t\t\t\t\t\t\t<div class="page-header">\n\t\t\t\t\t\t\t\t<span>è§†é¢‘ä¸‹è½½(å¯æ‰¹é‡)</span>\n\t\t\t\t\t\t\t\t<span class="close">Ã—</span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class="page-container">\n\t\t\t\t\t\t\t\t<div class="page-wrap"></div>\n\t\t\t\t\t\t\t\t<div class="aria2-setting">\n\t\t\t\t\t\t\t\t\t<div class="setting-item">\n\t\t\t\t\t\t\t\t\t\t<label class="topic-name">é…ç½®RPC:</label><input type="text" name="RPCURL" value="ws://localhost:16800/jsonrpc" placeholder="è¯·å‡†ç¡®è¾“å…¥RPCå¯¹åº”è½¯ä»¶çš„åœ°å€ï¼Œé»˜è®¤ï¼šMotrix">\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div class="setting-item">\n\t\t\t\t\t\t\t\t\t\t<label class="topic-name">é…ç½®Token:</label><input type="text" name="RPCToken" placeholder="é»˜è®¤æ— éœ€å¡«å†™">\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div class="setting-item">\n\t\t\t\t\t\t\t\t\t\t<label class="topic-name">ä¿å­˜è·¯å¾„:</label><input type="text" name="savePath" value="`+savePath+`" placeholder="è¯·å‡†ç¡®è¾“å…¥æ–‡ä»¶ä¿å­˜è·¯å¾„">\n\t\t\t\t\t\t\t\t\t\t<div style="font-size:12px;color:#888;">æœ€å¥½è‡ªå®šä¹‰ä¸‹è½½åœ°å€ï¼Œé»˜è®¤åœ°å€å¯èƒ½ä¸æ»¡è¶³éœ€è¦</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div class="modal-btn-wrap">\n\t\t\t\t\t\t\t\t\t<span name="selectall">å…¨é€‰</span>\n\t\t\t\t\t\t\t\t\t<span name="removeSelect">å–æ¶ˆé€‰æ‹©</span>\n\t\t\t\t\t\t\t\t\t<span name="downloadAll">æ‰¹é‡ä¸‹è½½</span>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div class="tip-wrap">\n\t\t\t\t\t\t\t\t\t<div class="title">å…³äºå•Pä¸‹è½½ï¼š</div>\n\t\t\t\t\t\t\t\t\t<div class="content"><span>ç‚¹å‡»å¼¹æ¡†å•ä¸ªé€‰é›†ï¼Œå³å¯ä¸‹è½½å•é›†è§†é¢‘(å½“å‰ç‰ˆæœ¬å•Pä¸‹è½½å¤±æ•ˆï¼Œæ­£åœ¨æƒ³åŠæ³•è§£å†³)</span></div>\n\t\t\t\t\t\t\t\t\t<div class="content"><span style="color:red;">å•Pä¸‹è½½ï¼Œæ¨èå¤§å®¶ä½¿ç”¨BBDownä¸‹è½½ï¼Œæ­¤å·¥å…·åŠŸèƒ½å¾ˆå¼ºå¤§ï¼Œå…·ä½“æŸ¥çœ‹ï¼š<a target="_blank" href="https://github.com/nilaoda/BBDown">https://github.com/nilaoda/BBDown</a></span></div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div class="tip-wrap">\n\t\t\t\t\t\t\t\t\t<div class="title">å…³äºæ‰¹é‡ä¸‹è½½ï¼š</div>\n\t\t\t\t\t\t\t\t\t<div class="content">\n\t\t\t\t\t\t\t\t\t\t<ul>\n\t\t\t\t\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t\t\t\t\t<b>1ã€æ‰¹é‡ä¸‹è½½éœ€è¦ç¬¬ä¸‰æ–¹è½¯ä»¶çš„æ”¯æŒï¼Œè„šæœ¬æ¨èä½¿ç”¨ï¼šMotrix</b>\n\t\t\t\t\t\t\t\t\t\t\t\t<ul>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<li>Motrixä¸‹è½½åœ°å€ï¼š<a href="https://motrix.app/zh-CN/" target="_blank">https://motrix.app/zh-CN/</a></li>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<li>AriaNgGUIä¸‹è½½åœ°å€ï¼š<a href="https://github.com/Xmader/aria-ng-gui" target="_blank">https://github.com/Xmader/aria-ng-gui</a></li>\n\t\t\t\t\t\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t\t\t\t\t<b>2ã€åœ¨æ‰¹é‡ä¸‹è½½å‰éœ€è¦æå‰æ‰“å¼€è½¯ä»¶ï¼Œæœ¬æ•™ç¨‹ä»¥Motrixä¸ºå‡†</b>\n\t\t\t\t\t\t\t\t\t\t\t\t<ul>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<li>(1)ã€å¦‚æœå…¨éƒ¨æŒ‰ç…§é»˜è®¤é…ç½®ï¼Œåªéœ€è¦æ‰“å¼€è½¯ä»¶å³å¯</li>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<li>(2)ã€å¦‚æœæƒ³è‡ªå®šä¹‰RPCåœ°å€å’Œæ–‡ä»¶ä¿å­˜è·¯å¾„ï¼Œå¯æ›´æ”¹ä¸Šé¢è¾“å…¥æ¡†çš„å†…å®¹ï¼ˆæ­¤æ•°æ®éå¸¸é‡è¦ï¼Œè¯·å‡†ç¡®å¡«å†™ï¼‰</li>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t\t\t\t\t\t(3)ã€Motrixè¿è¡Œå›¾ç‰‡\n\t\t\t\t\t\t\t\t\t\t\t\t\t<img src="https://pic.rmb.bdstatic.com/bjh/8912582c0416119405ec37ea27d12376.jpeg" width="100%" />\n\t\t\t\t\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t\t\t\t\t</ui>\n\t\t\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t\t\t\t\t<b>3ã€é»˜è®¤RPCé»˜è®¤åœ°å€</b>\n\t\t\t\t\t\t\t\t\t\t\t\t<ul>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<li>(1)ã€Motrix RPCé»˜è®¤åœ°å€ï¼šws://localhost:16800/jsonrpc</li>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<li>(2)ã€Aria2 RPCé»˜è®¤åœ°å€ï¼šws://localhost:6800/jsonrpc</li>\n\t\t\t\t\t\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t\t\t\t\t<b>3ã€å¦‚ä½¿ç”¨AriaNgGUIï¼Œä½¿ç”¨æ–¹å¼ç±»ä¼¼ï¼Œå¤§å®¶å¯ä»¥è‡ªè¡Œç ”ç©¶</b>\n\t\t\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div class="tip-wrap">\n\t\t\t\t\t\t\t\t\t<div class="title">å¿…è¦è¯´æ˜ï¼š</div>\n\t\t\t\t\t\t\t\t\t<div class="content">\n\t\t\t\t\t\t\t\t\t\tç”³æ˜ï¼šæœ¬åŠŸèƒ½ä»…èƒ½ä½œä¸ºå­¦ä¹ äº¤æµä½¿ç”¨ï¼Œä¸”ä¸å¯ç”¨äºå…¶å®ƒç”¨é€”ï¼Œå¦åˆ™åæœè‡ªè´Ÿã€‚è¯·å¤§å®¶é‡è§†ç‰ˆæƒï¼Œå°Šé‡åˆ›ä½œè€…ï¼Œåˆ‡å‹¿æ¬è¿æŠ„è¢­ã€‚è¯·å¤§å®¶å¤šç”¨[ä¸€é”®ä¸‰è¿]ä¸ºåˆ›ä½œè€…æŠ•å¸~ï¼Œå°ç ´ç«™ç‰›æ°ï¼\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t`;\n\t\t\t\t\tcommonFunctionObject.GMaddStyle(css);\n\t\t\t\t\t$("body").append(html);\n\t\t\t\t};\n\t\t\t\tthis.hideModals = function(){\n\t\t\t\t\t$(".modal-body-"+this.elementId+"").css(\'display\',\'none\');\n\t\t\t\t\t$(".modal-mask-"+this.elementId+"").css(\'display\',\'none\');\n\t\t\t\t};\n\t\t\t\tthis.showModals = function(pageHtml){\n\t\t\t\t\tconst self = this;\n\t\t\t\t\t$(".modal-body-"+self.elementId+"").css(\'display\',\'block\');\n\t\t\t\t\t$(".modal-mask-"+self.elementId+"").css(\'display\',\'block\');\n\t\t\t\t\t$(".modal-body-"+self.elementId+" .page-wrap").html(pageHtml);\n\t\t\t\t\t\n\t\t\t\t\t$(".modal-body-"+self.elementId+" .page-wrap >.board-item >span").off("click").on("click", function(){\n\t\t\t\t\t\t$(this).css("background-color","#ccc");\n\t\t\t\t\t\tlet downloadOptions={\n\t\t\t\t\t\t\t"aid":$(this).data("aid"),\n\t\t\t\t\t\t\t"cid":$(this).data("cid"),\n\t\t\t\t\t\t\t"isByPRC":false\n\t\t\t\t\t\t}\n\t\t\t\t\t\tself.startDownloadFile(downloadOptions);\n\t\t\t\t\t});\n\t\t\t\t\t$(".modal-body-"+self.elementId+" .page-header >span.close").off("click").on("click", function(){\n\t\t\t\t\t\tself.hideModals();\n\t\t\t\t\t});\n\t\t\t\t\t$(".modal-body-"+self.elementId+" .modal-btn-wrap >span[name=\'selectall\']").off("click").on("click", function(){\n\t\t\t\t\t\t$(".modal-body-"+self.elementId+" .page-wrap").find("input[type=\'checkbox\']").each(function(){\n\t\t\t\t\t\t\t$(this).prop(\'checked\', true);\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\t\t\t\t\t$(".modal-body-"+self.elementId+" .modal-btn-wrap >span[name=\'removeSelect\']").off("click").on("click", function(){\n\t\t\t\t\t\t$(".modal-body-"+self.elementId+" .page-wrap").find("input[type=\'checkbox\']").each(function(){\n\t\t\t\t\t\t\t$(this).prop(\'checked\', false);\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\t\t\t\t\t$(".modal-body-"+self.elementId+" .modal-btn-wrap >span[name=\'downloadAll\']").off("click").on("click", function(){\n\t\t\t\t\t\tlet inputElements = $(".modal-body-"+self.elementId+" .page-wrap input[type=\'checkbox\']:checked");\n\t\t\t\t\t\tif(inputElements.length == 0){\n\t\t\t\t\t\t\tcommonFunctionObject.webToast({"message":"è‡³å°‘éœ€è¦é€‰ä¸­1P", "background":"#FF4D40"});\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tlet RPCURL = $(".modal-body-"+self.elementId+" input[name=\'RPCURL\']").val();\n\t\t\t\t\t\tlet savePath = $(".modal-body-"+self.elementId+" input[name=\'savePath\']").val();\n\t\t\t\t\t\tlet RPCToken = $(".modal-body-"+self.elementId+" input[name=\'RPCToken\']").val();\n\t\t\t\t\t\t\n\t\t\t\t\t\tif(!savePath){\n\t\t\t\t\t\t\tcommonFunctionObject.webToast({"message":"ä¿å­˜è·¯å¾„ä¸èƒ½ä¸ºç©º", "background":"#FF4D40"});\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(!RPCURL){\n\t\t\t\t\t\t\tcommonFunctionObject.webToast({"message":"PRCåœ°å€ä¸èƒ½ä¸ºç©º", "background":"#FF4D40"});\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tRPCToken = !RPCToken ? "" : RPCToken;\n\t\t\t\t\t\tlet downloadOptions = {\n\t\t\t\t\t\t\t"aid":"",\n\t\t\t\t\t\t\t"cid":"",\n\t\t\t\t\t\t\t"isByPRC":true,\n\t\t\t\t\t\t\t"fileName":"",\n\t\t\t\t\t\t\t"savePath":savePath,\n\t\t\t\t\t\t\t"RPCURL":RPCURL,\n\t\t\t\t\t\t\t"RPCToken":RPCToken\n\t\t\t\t\t\t}\n\t\t\t\t\t\tinputElements.each(function(){\n\t\t\t\t\t\t\tsetTimeout(()=>{\n\t\t\t\t\t\t\t\tlet aid=$(this).data("aid"), cid = $(this).data("cid"), fileName = $(this).attr("title");\n\t\t\t\t\t\t\t\tdownloadOptions.aid = aid;\n\t\t\t\t\t\t\t\tdownloadOptions.cid = cid;\n\t\t\t\t\t\t\t\tdownloadOptions.fileName = fileName;\n\t\t\t\t\t\t\t\tself.startDownloadFile(downloadOptions);\n\t\t\t\t\t\t\t}, 1000);\n\t\t\t\t\t\t})\n\t\t\t\t\t});\n\t\t\t\t};\n\t\t\t\tthis.createElementHtml = function(){\n\t\t\t\t\tthis.createModals();  //åˆ›å»ºå¼¹æ¡†\n\t\t\t\t\tconst randomNumber = this.elementId, self = this;\n\t\t\t\t\tlet cssText = `\n\t\t\t\t\t\t#bilibili_exti_`+randomNumber+`{\n\t\t\t\t\t\t\tpadding:10px;\n\t\t\t\t\t\t}\n\t\t\t\t\t\t#bilibili_exti_`+randomNumber+` >.self_s_btn{\n\t\t\t\t\t\t\tbackground-color:#FB7299;\n\t\t\t\t\t\t\tcolor:#FFF;\n\t\t\t\t\t\t\tfont-size:10px;\n\t\t\t\t\t\t\tdisplay:inline-block;\n\t\t\t\t\t\t\tmargin-right:15px;\n\t\t\t\t\t\t\tpadding:2px 4px;\n\t\t\t\t\t\t\tborder-radius:3px;\n\t\t\t\t\t\t\tcursor:pointer;\n\t\t\t\t\t\t}\n\t\t\t\t\t`;\n\t\t\t\t\tlet htmlText=`\n\t\t\t\t\t\t<div id="bilibili_exti_`+randomNumber+`">\n\t\t\t\t\t\t\t<span class="self_s_btn" id="download_s_`+randomNumber+`">ä¸‹è½½è§†é¢‘/å°é¢ï¼ˆæœ€é«˜æ¸…ï¼‰</span>\n\t\t\t\t\t\t\t<span class="self_s_btn" id="focus_s_`+randomNumber+`">ä¸€é”®ä¸‰è¿</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t`;\n\t\t\t\t\tsetTimeout(()=>{ //å»¶æ—¶çš„ç›®çš„æ˜¯è®©Bç«™å…ˆåŠ è½½å®Œå…¨\t\t\t\t\n\t\t\t\t\t\tconst playerInterval = setInterval(()=>{\n\t\t\t\t\t\t\tlet $viewboxReport = $("#arc_toolbar_report");\n\t\t\t\t\t\t\tif($("#focus_s_"+randomNumber).length==0 && $viewboxReport.length!=0){\n\t\t\t\t\t\t\t\t$("body").prepend("<style>"+cssText+"</style>");\n\t\t\t\t\t\t\t\t$viewboxReport.before(htmlText);\n\t\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\t\tclearInterval(playerInterval);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}, 100);\n\t\t\t\t\t}, 2800);\n\t\t\t\t\t\n\t\t\t\t\t$("body").on("click", "#download_s_"+randomNumber, function(){\n\t\t\t\t\t\tconst btnElement = $(this);\n\t\t\t\t\t\tbtnElement.attr("disabled", "disabled");\n\t\t\t\t\t\tbtnElement.text("ä¸‹è½½è§†é¢‘/å°é¢ï¼ˆå‡†å¤‡ä¸­ï¼‰");\n\t\t\t\t\t\t//å¼€å§‹å‡†å¤‡ä¸‹è½½æ•°æ®\n\t\t\t\t\t\tself.getDownloadPages().then((resule)=>{\n\t\t\t\t\t\t\tif(resule.status==="success"){\n\t\t\t\t\t\t\t\tvar aid = resule.downloadData.aid, pages = resule.downloadData.pages, itemHtml = "", pic=resule.downloadData.pic;\n\t\t\t\t\t\t\t\tvar picTitle = resule.downloadData.title;\n\t\t\t\t\t\t\t\titemHtml += "<div style=\'width:100%;\'><a href=\'"+pic+"\' target=\'_blank\'>æ ‡é¢˜ï¼š"+picTitle+"ï¼ˆç‚¹æˆ‘è·³è½¬å°é¢ï¼‰</a></div>";\n\t\t\t\t\t\t\t\tfor(var i=0; i<pages.length; i++){\n\t\t\t\t\t\t\t\t\tvar title = "ã€P"+pages[i].page+"ã€‘"+pages[i].part+"";\n\t\t\t\t\t\t\t\t\titemHtml += "<div class=\'board-item\'>";\n\t\t\t\t\t\t\t\t\titemHtml += "<input data-aid=\'"+aid+"\' data-cid=\'"+pages[i].cid+"\' title=\'"+title+"\' type=\'checkbox\'>"\n\t\t\t\t\t\t\t\t\titemHtml += "<span data-aid=\'"+aid+"\' data-cid=\'"+pages[i].cid+"\' title=\'"+title+"\'>"+title+"</span>";\n\t\t\t\t\t\t\t\t\titemHtml += "</div>";\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tself.showModals(itemHtml);\n\t\t\t\t\t\t\t\tself.downloadResutSuccess(btnElement);\n\t\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\t\tself.downloadResutError(btnElement);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}).catch((error)=>{\n\t\t\t\t\t\t\tself.downloadResutError(btnElement);\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\t\t\t\t\t$("body").on("click", "#focus_s_"+randomNumber, function(){\n\t\t\t\t\t\t$("#arc_toolbar_report .video-like").click(); // ç‚¹èµ\n\t\t\t\t\t\t$("#arc_toolbar_report .video-coin").click(); // æŠ•å¸\n\t\t\t\t\t\t// $("#arc_toolbar_report .video-fav").click(); // æ”¶è—\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\tthis.start = function(){\n\t\t\t\t\tlet locationHost = window.location.host, locationPathname = window.location.pathname;\n\t\t\t\t\tif(locationHost==="www.bilibili.com" && (locationPathname.indexOf("/video")!=-1 || locationPathname.indexOf("/watchlater")!=-1)){\n\t\t\t\t\t\tthis.createElementHtml();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\ttry{\n\t\t\t\t(new baseFunctionObject()).start();\n\t\t\t}catch(e){\n\t\t\t\tconsole.log("baseFunctionObject new error", e);\n\t\t\t}\n\t\t};\n\t\t/**\n\t\t * æµè§ˆå†å²è®°å½•æé†’\n\t\t */\n\t\tthis.recordViewFunction = function(){\n\t\t\tfunction recordViewObject(){\n\t\t\t\tthis.localCacheName = "bilibili_video_record"; \n\t\t\t\tthis.recordOneVideo = function(){\n\t\t\t\t\tlet promise = new Promise((resolve, reject)=>{\n\t\t\t\t\t\tlet bv = commonFunctionObject.getBilibiliBV();\n\t\t\t\t\t\tlet cacheText = commonFunctionObject.GMgetValue(this.localCacheName);\n\t\t\t\t\t\tcacheText = !cacheText ? "" : cacheText\n\t\t\t\t\t\tlet maxLength = 12*500;\n\t\t\t\t\t\tlet currentLength = cacheText.length;\n\t\t\t\t\t\tif(currentLength > maxLength){\n\t\t\t\t\t\t\tcacheText = cacheText.substring(12*100, currentLength);\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t\t\tif(cacheText.indexOf(bv)==-1){\n\t\t\t\t\t\t\tcacheText += bv;\n\t\t\t\t\t\t\tcommonFunctionObject.GMsetValue(this.localCacheName, cacheText);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tresolve({"result":"success"});\n\t\t\t\t\t});\n\t\t\t\t};\n\t\t\t\tthis.searchPageRemindHtml = function($ele, top=8, right=8){\n\t\t\t\t\tif($ele.find("div[name=\'marklooked\']").length==0){\t\t\t\t\t\t\n\t\t\t\t\t\t$ele.css("position","relative");\n\t\t\t\t\t\t$ele.append("<div name=\'marklooked\' style=\'z-index: 100;position:absolute; top:"+top+"px; right:"+right+"px; background-color: rgba(251,123,159,1); border-radius:3px; font-size:10px; color:#FFF;padding:0px 2px;\'>å·²çœ‹</div>");\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t\tthis.searchPageRemind = function(){\n\t\t\t\t\tlet $that = this;\n\t\t\t\t\tvar elementArray = [\n\t\t\t\t\t\t{"node":".bili-video-card", "top":8, "right":12},  //å…¼å®¹ MAC M1æœç´¢ç»“æœ\n\t\t\t\t\t\t{"node":"#page-index .small-item", "top":12, "right":12},  //ç”¨æˆ·æŠ•ç¨¿\n\t\t\t\t\t\t{"node":"#submit-video-list .small-item", "top":12, "right":12}, //ç”¨æˆ·ä¸»é¡µ\n\t\t\t\t\t\t{"node":"#page-series-detail .small-item.fakeDanmu-item", "top":12, "right":12}, //ç”¨æˆ·ä¸»é¡µæŠ•ç¨¿\n\t\t\t\t\t];\n\t\t\t\t\tsetInterval(function(){\n\t\t\t\t\t\tlet cacheText = commonFunctionObject.GMgetValue($that.localCacheName);\n\t\t\t\t\t\tcacheText = !cacheText ? "" : cacheText;\n\t\t\t\t\t\tfor(var i=0; i<elementArray.length; i++){\n\t\t\t\t\t\t\tvar elementobj = elementArray[i];\n\t\t\t\t\t\t\t$(elementobj.node).each(function(){\n\t\t\t\t\t\t\t\tif($(this).attr("dealxll")!=="true"){\n\t\t\t\t\t\t\t\t\tvar videourl = $(this).find("a[href^=\'//www.bilibili.com/video\']").attr("href");\n\t\t\t\t\t\t\t\t\tif(!!videourl){\n\t\t\t\t\t\t\t\t\t\tvar bvs = videourl.match(/(\\/BV(.*?)\\/)/g)\n\t\t\t\t\t\t\t\t\t\tif(bvs.length==1){\n\t\t\t\t\t\t\t\t\t\t\tvar bv = bvs[0].replace(/\\//g,"");\n\t\t\t\t\t\t\t\t\t\t\tif(cacheText.indexOf(bv) != -1){\n\t\t\t\t\t\t\t\t\t\t\t\t$that.searchPageRemindHtml($(this), elementobj.top, elementobj.right);\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t$(this).unbind("click").bind("click", ()=>{  //å¾ªç¯æ“ä½œï¼Œå•ç‹¬ç»‘å®š\n\t\t\t\t\t\t\t\t\t\t\t\t$that.searchPageRemindHtml($(this), elementobj.top, elementobj.right);\n\t\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t$(this).attr("dealxll","true");\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t}, 500);\n\t\t\t\t}\n\t\t\t\tthis.start=function(){\n\t\t\t\t\tlet $that = this;\n\t\t\t\t\tif(window.location.pathname.indexOf("/video")!=-1 && window.location.host==="www.bilibili.com"){\n\t\t\t\t\t\tlet currentHref = "";\n\t\t\t\t\t\tsetInterval(()=>{ //éœ€è¦å¾ªç¯å­˜å‚¨\n\t\t\t\t\t\t\tif(window.location.href !== currentHref){\n\t\t\t\t\t\t\t\tthis.recordOneVideo();\n\t\t\t\t\t\t\t\tcurrentHref = window.location.href;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}, 500);\n\t\t\t\t\t}\n\t\t\t\t\t//æœç´¢ç»“æœå’Œç”¨æˆ·ä¸»é¡µå·²ç»çœ‹è¿‡çš„è§†é¢‘æé†’\n\t\t\t\t\tif(window.location.host.indexOf("bilibili.com")!=-1){\n\t\t\t\t\t\tthis.searchPageRemind();\n\t\t\t\t\t\tGM_registerMenuCommand("æ¸…ç©ºBç«™æµè§ˆè®°å½•",function(){\n\t\t\t\t\t\t\tif(confirm(\'æ˜¯å¦è¦æ¸…ç©ºBç«™æµè§ˆè®°å½•ï¼Ÿæ¸…ç©ºåå°†ä¸å¯æ¢å¤...\')){\n\t\t\t\t\t\t\t\tcommonFunctionObject.GMsetValue($that.localCacheName, "");\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t}\n\t\t\ttry{\n\t\t\t\t(new recordViewObject()).start();\n\t\t\t}catch(e){\n\t\t\t\tconsole.log("recordViewObject new error", e);\n\t\t\t}\n\t\t};\n\t\t/**\n\t\t * è§†é¢‘æè¿°æ–‡æœ¬è½¬é“¾æ¥\n\t\t */\n\t\tthis.textToLinkFunction = function() {\n\t\t\tfunction textToLinkObject(){\n\t\t\t\tthis.link = function(){\n\t\t\t\t\tif (findAndReplaceDOMText(document.querySelector(".desc-info-text"), {\n\t\t\t\t\t\tfind: /(http|ftp|https):\\/\\/[\\w\\-_]+(\\.[\\w\\-_]+)+([\\w\\-\\.,@?^=%&amp;:/~\\+#]*[\\w\\-\\@?^=%&amp;/~\\+#])?/g,\n\t\t\t\t\t\treplace: function (e, t) {\n\t\t\t\t\t\t\tlet text = e.text;\n\t\t\t\t\t\t\tlet element = null;\n\t\t\t\t\t\t\tif(text.indexOf("bilibili.com")==-1 && /^(http|ftp|https)/i.test(text)){\n\t\t\t\t\t\t\t\telement = document.createElement("a");\n\t\t\t\t\t\t\t\telement.setAttribute("href", text)\n\t\t\t\t\t\t\t\telement.setAttribute("target", "_blank");\n\t\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\t\telement = document.createElement("span");\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telement.innerText = text;\n\t\t\t\t\t\t\treturn element;\n\t\t\t\t\t\t}, \n\t\t\t\t\t\tpreset: "prose"\n\t\t\t\t\t}));\n\t\t\t\t}\n\t\t\t\tthis.start = function(){\n\t\t\t\t\tlet MutationObserver = window.MutationObserver || window.WebKitMutationObserver || window.MozMutationObserver\n\t\t\t\t\tlet bodyMutationObserver = new MutationObserver(()=>{\n\t\t\t\t\t\tthis.link()\n\t\t\t\t\t});\n\t\t\t\t\tlet titleElement = document.querySelector("title");\n\t\t\t\t\tif(titleElement){\n\t\t\t\t\t\tbodyMutationObserver.observe(titleElement, {"characterData":true,"attributes":true, "childList":true});\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\ttry{\n\t\t\t\t(new textToLinkObject()).start();\n\t\t\t}catch(e){\n\t\t\t\tconsole.log("textToLinkObject new error", e);\n\t\t\t}\n\t\t}\n\t\tthis.signIn = async function(){ //Blibili è‡ªåŠ¨ç­¾åˆ°\n\t\t\tconst myDate = new Date()\n\t\t\tvar currentDate = myDate.getFullYear()+"-"+(myDate.getMonth() + 1) + "-"+myDate.getDate();\n\t\t\tvar text = "ä»Šæ—¥å·²ç­¾";\n\t\t\tif(commonFunctionObject.GMgetValue("bilibili_signIn", null) === currentDate){ //å·²ç»ç­¾åˆ°\n\t\t\t\ttext = "ä»Šæ—¥å·²ç­¾";\n\t\t\t}else{\n\t\t\t\ttry{\n\t\t\t\t\tconst result = await commonFunctionObject.request("GET", "https://api.live.bilibili.com/sign/doSign", null);\n\t\t\t\t\tif(result && result.result=="success"){\n\t\t\t\t\t\tconst json = JSON.parse(result.data);\n\t\t\t\t\t\tif(json.hasOwnProperty("code")){\n\t\t\t\t\t\t\tconst code = json.code;\n\t\t\t\t\t\t\tif(code == -101){ //æœªç™»å½•\n\t\t\t\t\t\t\t\ttext = "æœªç™»å½•";\n\t\t\t\t\t\t\t}else if(code == 1011040){//å·²ç»ç­¾åˆ°äº†\n\t\t\t\t\t\t\t\ttext = "ä»Šæ—¥å·²ç­¾";\n\t\t\t\t\t\t\t\tcommonFunctionObject.GMsetValue("bilibili_signIn", currentDate);\n\t\t\t\t\t\t\t}else if(code == 0){//ç­¾åˆ°æˆåŠŸ\n\t\t\t\t\t\t\t\ttext = "ä»Šæ—¥å·²ç­¾";\n\t\t\t\t\t\t\t\tcommonFunctionObject.GMsetValue("bilibili_signIn", currentDate);\n\t\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\t\ttext = "ç­¾åˆ°å¼‚å¸¸";\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\ttext = "ç­¾åˆ°å¼‚å¸¸";\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}catch(e){\n\t\t\t\t\ttext = "ç­¾åˆ°å‡ºé”™"\n\t\t\t\t}\n\t\t\t}\n\t\t\tvar html = `\n\t\t\t\t<div id="bilibili_signIn" style="width:12px;font-size:12px;position:fixed;top:200px;left:0px;background-color:#FC8BAB;color:#FFF;">`+text+`</div>\n\t\t\t`;\n\t\t\t$("body").append(html);\n\t\t}\n\t\tthis.start = function(){\n\t\t\tif(this.isRun()){\n\t\t\t\tthis.baseFunction();\n\t\t\t\tthis.recordViewFunction();\n\t\t\t\tthis.textToLinkFunction();\n\t\t\t\tthis.signIn();\n\t\t\t}\n\t\t}\n\t}\n\t\n\t//å›½å¤–çš„ä¸€äº›è§£æ\n\tfunction abroadVideoHelper(){\n\t\tthis.isRun = function(){\n\t\t\tvar urls=["youtube.com", "facebook.com"];\n\t\t\tfor(var i=0; i<urls.length;i++){\n\t\t\t\tif(window.location.host.indexOf(urls[i])!=-1){\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn false;\n\t\t};\n\t\tthis.start = function(){\n\t\t\tif(!this.isRun()){\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tsetInterval(function(){\n\t\t\t\tconst host = window.location.host;\n\t\t\t\tconst href = window.location.href;\n\t\t\t\tconst eleId = "free-xx1-player-script-9999";\n\t\t\t\t\n\t\t\t\t//youtubeè§£æ\n\t\t\t\tif(host.indexOf("youtube.com")!=-1){\n\t\t\t\t\tif(href.indexOf("youtube.com/watch")!=-1){\n\t\t\t\t\t\tif($("#"+eleId).length != 0){\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t\t$("#player-theater-container").css("z-index",9999999999); //ä¿®å¤å…¨å±æ˜¾ç¤ºè§£ææŒ‰é’®çš„é—®é¢˜\n\t\t\t\t\t\tvar iconVideo = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAADOUlEQVRoQ+2Zz4uNURjHP9+F8g8gykKJNJMUUmzMDKZmYVYsLBRhOaEmFhRRLCZDY4PBrJRREkUMmY3URCk/s6GMhR9ZWNk9OvXO7b133ve+57w/7szUnLqbe59fn/Oc85znnCvm+NAcj595gHgGzWwDsBZYDawEFgI/gT/AR0nDZWe8lAyYWTewF9iTEeA4MCTpblkghQHM7BxwPDCgAUn9gTqJ4oUAzOwKcChnICOS9uXUranlBjCza8CBggFclHSkiI1cAGbWBTwt4jim2y3pSV5bwQBmtgq4BazP67RB7w3gsvAX+CbpV4hdL4CoPG4H3KcjxEEOWVdyHwPjkq5m6WcCmNmFaIaybFXx+2vgsqSRNOOpAGa2GHhY4lIpAnha0qkkA4kAZuZO0k9FPFag2yHJHYR1Iw3gO7CsgiCKmPwMdEmajBuZBmBmbuMcLOKpQt1BSUdTAczMVZmQmjwtpTmC3xqo0ybpw5ROXQbMrA+45GtQUmYVy7JlZpYl0/B73YZuBAjqbWYI4KWkzWkZeBVSNuMAZua1FBorSY4MTEpangYQlM4EgOdZy6ExazkAiNtoXELvgLasIGr0sT0QZaAVAO8ltadlYBTYNcsB7kjanQZwHjg2ywGaViHXIruN7DVmYA+4lnudpC+JGXBfhlwTZwDAPQi4s6o2kloJ9yzyyKcXajGA64F6JL1tChBlwdX0oIrSgirUK+l+49pudh/IhGhhBvolDSRtzKa9jJktBdxrWk+icvXnwO3oIexFWlXJbMbMbAGwJQWg1o0WWEKpLUjSBcZ7CXnV0ZhQXoBQP/MAUzNgZu5Z8EbRGQT2S7qZ107mHmhmuIQnl2lXxFCQQgDRmTEGbAt1DIxJ2pFDr06lDIBFgDsdlwQE8wNol/Q7QCdRtDBAlIVO4FlAMJ2SMk96H3ulAEQQh4FBD6d9koY85LxESgOIIK67qtLE87CkUt+cSgWIICaAjQkQE5I2eU1rgFAVACsA9/Dk/qGcGv+ANZK+BsTmJVo6QJSFXuBeLIKdkh54RRQoVAlABHECOAOclHQ2MC5v8coAIojR+AuCd1QBgpUCBMSRW3QeIPfUlaT4H0/7RUAi2a/NAAAAAElFTkSuQmCC";\n\t\t\t\t\t\tvar html=\'<div id="\'+eleId+\'" style="width:25px;padding:10px 0px;text-align:center;background-color:#E5212E;position:fixed;top:250px;left:0px;color:#FFF;font-size:0px;cursor:pointer;margin:0px auto;text-align:center;z-index:9999999;">\'+\n\t\t\t\t\t\t\t\'<img src="\'+iconVideo+\'" style="width:20px;">\'+\n\t\t\t\t\t\t\t\'</div>\';\n\t\t\t\t\t\t$("body").append(html);\n\t\t\t\t\t\t$("body").on("click", "#"+eleId, function(){\n\t\t\t\t\t\t\tvar location_url = window.location.href;\n\t\t\t\t\t\t\tvar videourl = "https://www.ytdownfk.com/search?url="+location_url;\n\t\t\t\t\t\t\tcommonFunctionObject.GMopenInTab(videourl);\n\t\t\t\t\t\t});\n\t\t\t\t\t}else{\n\t\t\t\t\t\t$("#"+eleId).remove();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t//facebookè§£æ\n\t\t\t\tif(host.indexOf("facebook.com")!=-1){\n\t\t\t\t\tif(href.indexOf("facebook.com/watch")!=-1 || href.indexOf("/videos/")!=-1){\n\t\t\t\t\t\tif($("#"+eleId).length != 0){\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvar iconVideo = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAADOUlEQVRoQ+2Zz4uNURjHP9+F8g8gykKJNJMUUmzMDKZmYVYsLBRhOaEmFhRRLCZDY4PBrJRREkUMmY3URCk/s6GMhR9ZWNk9OvXO7b133ve+57w/7szUnLqbe59fn/Oc85znnCvm+NAcj595gHgGzWwDsBZYDawEFgI/gT/AR0nDZWe8lAyYWTewF9iTEeA4MCTpblkghQHM7BxwPDCgAUn9gTqJ4oUAzOwKcChnICOS9uXUranlBjCza8CBggFclHSkiI1cAGbWBTwt4jim2y3pSV5bwQBmtgq4BazP67RB7w3gsvAX+CbpV4hdL4CoPG4H3KcjxEEOWVdyHwPjkq5m6WcCmNmFaIaybFXx+2vgsqSRNOOpAGa2GHhY4lIpAnha0qkkA4kAZuZO0k9FPFag2yHJHYR1Iw3gO7CsgiCKmPwMdEmajBuZBmBmbuMcLOKpQt1BSUdTAczMVZmQmjwtpTmC3xqo0ybpw5ROXQbMrA+45GtQUmYVy7JlZpYl0/B73YZuBAjqbWYI4KWkzWkZeBVSNuMAZua1FBorSY4MTEpangYQlM4EgOdZy6ExazkAiNtoXELvgLasIGr0sT0QZaAVAO8ltadlYBTYNcsB7kjanQZwHjg2ywGaViHXIruN7DVmYA+4lnudpC+JGXBfhlwTZwDAPQi4s6o2kloJ9yzyyKcXajGA64F6JL1tChBlwdX0oIrSgirUK+l+49pudh/IhGhhBvolDSRtzKa9jJktBdxrWk+icvXnwO3oIexFWlXJbMbMbAGwJQWg1o0WWEKpLUjSBcZ7CXnV0ZhQXoBQP/MAUzNgZu5Z8EbRGQT2S7qZ107mHmhmuIQnl2lXxFCQQgDRmTEGbAt1DIxJ2pFDr06lDIBFgDsdlwQE8wNol/Q7QCdRtDBAlIVO4FlAMJ2SMk96H3ulAEQQh4FBD6d9koY85LxESgOIIK67qtLE87CkUt+cSgWIICaAjQkQE5I2eU1rgFAVACsA9/Dk/qGcGv+ANZK+BsTmJVo6QJSFXuBeLIKdkh54RRQoVAlABHECOAOclHQ2MC5v8coAIojR+AuCd1QBgpUCBMSRW3QeIPfUlaT4H0/7RUAi2a/NAAAAAElFTkSuQmCC";\n\t\t\t\t\t\tvar html=\'<div id="\'+eleId+\'" style="width:25px;padding:10px 0px;text-align:center;background-color:#E5212E;position:fixed;top:250px;left:0px;color:#FFF;font-size:0px;z-index:9999999999999;cursor:pointer;margin:0px auto;text-align:center;">\'+\n\t\t\t\t\t\t\t\'<img src="\'+iconVideo+\'" style="width:20px;">\'+\n\t\t\t\t\t\t\t\'</div>\';\n\t\t\t\t\t\t$("body").append(html);\n\t\t\t\t\t\t$("body").on("click", "#"+eleId, function(){\n\t\t\t\t\t\t\tvar location_url = window.location.href;\n\t\t\t\t\t\t\tcommonFunctionObject.GMsetValue("facebook_downloader_obj", {"facebook_url":location_url});\n\t\t\t\t\t\t\tcommonFunctionObject.GMopenInTab("https://yt1s.com/facebook-downloader");\n\t\t\t\t\t\t});\n\t\t\t\t\t}else{\n\t\t\t\t\t\t$("#"+eleId).remove();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}, 500);\n\t\t\t\n\t\t\tif(window.location.href.indexOf("yt1s.com/facebook-downloader")!=-1){ //facebookä¸‹è½½\n\t\t\t\tvar facebookObject = commonFunctionObject.GMgetValue("facebook_downloader_obj");\n\t\t\t\tif(!!facebookObject){\n\t\t\t\t\t$("#s_input").val(facebookObject.facebook_url);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\t\t\t\n\t/**\n\t * æœç´¢å¼•æ“èµ„æºæé†’\n\t */\n\tfunction searchEnginesNavigation(){\n\t\tthis.navigationDataCache = "navigation_data_cache_8898";\n\t\tthis.customNavigationkey = "custom_navigation_key_8898";\n\t\tthis.searchEnginesData=[\n\t\t\t{"host":"www.baidu.com", "element":"#content_right","elementInput":"#kw"},\n\t\t\t{"host":"www.so.com", "element":"#side","elementInput":"#keyword"},\n\t\t\t{"host":"www.sogou.com", "element":"#right","elementInput":"#upquery"},\n\t\t\t{"host":"cn.bing.com", "element":"#b_context","elementInput":"#sb_form_q"},\n\t\t\t{"host":"www.bing.com", "element":"#b_context","elementInput":"#sb_form_q"},\n\t\t\t{"host":"www4.bing.com", "element":"#b_context","elementInput":"#sb_form_q"},\n\t\t\t{"host":"so.toutiao.com", "element":".s-side-list","elementInput":"input[type=\'search\']"},\n\t\t\t{"host":"www.google.com", "element":"#rhs","elementInput":"input[type=\'text\']"}\n\t\t];\n\t\tthis.getNavigationData = function(element, elementInput){\n\t\t\tconst defaultNavigationData = [\n\t\t\t\t{"name":"èµ„æºæœç´¢","list":[\n\t\t\t\t\t{"name":"è´¢ç»æœç´¢", "url":"https://www.shaduizi.com/s/search?q=@@&currentPage=1"},\n\t\t\t\t\t{"name":"ç™¾åº¦ç™¾ç§‘", "url":"https://baike.baidu.com/item/@@"},\n\t\t\t\t\t{"name":"çŸ¥ä¹æœç´¢", "url":"https://www.zhihu.com/search?type=content&q=@@"},\n\t\t\t\t\t{"name":"Bç«™æœç´¢", "url":"https://search.bilibili.com/all?keyword=@@&from_source=webtop_search&spm_id_from=333.851"},\n\t\t\t\t\t{"name":"æŠ–éŸ³æœç´¢", "url":"https://www.douyin.com/search/@@?aid=0a9fc74b-01e8-4fb0-9509-307c5c07fda1&publish_time=0&sort_type=0&source=normal_search&type=general"},\n\t\t\t\t\t{"name":"æœç‹—|å…¬ä¼—å·", "url":"https://weixin.sogou.com/weixin?type=2&query=@@"},\n\t\t\t\t\t{"name":"æœç‹—|çŸ¥ä¹", "url":"https://www.sogou.com/sogou?pid=sogou-wsse-ff111e4a5406ed40&insite=zhihu.com&ie=utf8&p=73351201&query=@@&ie=utf8&p=73351201&query=@@"},\n\t\t\t\t\t{"name":"è±†ç“£æœç´¢", "url":"https://www.douban.com/search?q=@@"},\n\t\t\t\t\t{"name":"ç”µå½±æœç´¢", "url":"https://www.cupfox.com/search?key=@@"},\n\t\t\t\t\t{"name":"ç»´åŸºç™¾ç§‘", "url":"https://en.wikipedia.org/w/index.php?search=@@"},\n\t\t\t\t\t{"name":"æ³•å¾‹æ³•è§„", "url":"https://www.pkulaw.com/law/chl?Keywords=@@"},\n\t\t\t\t\t{"name":"iconæœç´¢", "url":"https://www.iconfont.cn/search/index?searchType=icon&q=@@"},\n\t\t\t\t\t{"name":"github", "url":"https://github.com/search?q=@@"},\n\t\t\t\t\t{"name":"csdn", "url":"https://so.csdn.net/so/search?q=@@&t=&u="},\n\t\t\t\t\t{"name":"stackoverflow", "url":"https://stackoverflow.com/"},\n\t\t\t\t]},\n\t\t\t\t{"name":"æœç´¢å¼•æ“","list":[\n\t\t\t\t\t{"name":"ç™¾åº¦", "url":"https://www.baidu.com/s?wd=@@"},\n\t\t\t\t\t{"name":"å¿…åº”", "url":"https://cn.bing.com/search?q=@@"},\n\t\t\t\t\t{"name":"Google", "url":"https://www.google.com/search?q=@@"},\n\t\t\t\t\t{"name":"360æœç´¢", "url":"https://www.so.com/s?ie=utf-8&fr=none&src=360sou_newhome&nlpv=basest&q=@@"},\n\t\t\t\t\t{"name":"æœç‹—", "url":"https://www.sogou.com/web?query=@@"},\n\t\t\t\t\t{"name":"å¤´æ¡æœç´¢", "url":"https://so.toutiao.com/search?dvpf=pc&source=input&keyword=@@"}\n\t\t\t\t]}\n\t\t\t];\n\t\t\t\n\t\t\tconst self = this;\n\t\t\tlet cacheNavigationData =  commonFunctionObject.GMgetValue(self.navigationDataCache, null); // ç¼“å­˜çš„æ•°æ®\n\t\t\tif(!cacheNavigationData){\n\t\t\t\tcacheNavigationData = defaultNavigationData\n\t\t\t}\n\t\t\t// åˆå¹¶æ•°æ®\n\t\t\tvar finalNavigationData = null;\n\t\t\ttry{\n\t\t\t\tlet customNavigationData = commonFunctionObject.GMgetValue(self.customNavigationkey, null); // è‡ªå®šä¹‰çš„æ•°æ®\n\t\t\t\tif(!!customNavigationData){\n\t\t\t\t\tfinalNavigationData = cacheNavigationData.concat(customNavigationData);\n\t\t\t\t}else{\n\t\t\t\t\tfinalNavigationData = cacheNavigationData;\n\t\t\t\t}\n\t\t\t}catch(e){\n\t\t\t\tfinalNavigationData = cacheNavigationData;\n\t\t\t}\n\t\t\tself.createHtml(element, elementInput, finalNavigationData);\n\t\t\t\n\t\t\t//åˆ¤æ–­å€¼æ˜¯å¦æœ‰å˜åŠ¨ï¼Œå¦‚æœæœ‰å˜åŠ¨å°±æ›´æ–°æ¢å­˜ï¼Œç®€å•å¤„ç†ï¼Œé•¿åº¦æ˜¯å¦ä¸€è‡´\n\t\t\tcommonFunctionObject.request("get", "http://api.staticj.top/script/api/get/navigation_json_url?t="+new Date().getTime(), null).then((resultData)=>{\n\t\t\t\tlet dataJson = JSON.parse(resultData.data);\n\t\t\t\tif(!!dataJson && !!dataJson.url){\n\t\t\t\t\tcommonFunctionObject.request("get", dataJson.url, null).then((resultData2)=>{\n\t\t\t\t\t\tlet serverNavigationData = resultData2.data;\n\t\t\t\t\t\tif(!cacheNavigationData || (!!cacheNavigationData && serverNavigationData.length!=JSON.stringify(cacheNavigationData).length)){\n\t\t\t\t\t\t\tcommonFunctionObject.GMsetValue(self.navigationDataCache, JSON.parse(serverNavigationData));\n\t\t\t\t\t\t}\n\t\t\t\t\t}).catch(()=>{});\n\t\t\t\t}\n\t\t\t}).catch(()=>{});\n\t\t};\n\t\tthis.createCss = function(elementNum){\n\t\t\tvar innnerCss = `\n\t\t\t\t.ddfdfd`+elementNum+`dffssqa{\n\t\t\t\t\tmargin-top:15px;\n\t\t\t\t}\n\t\t\t\t.ddfdfd`+elementNum+`dffssqa:nth-last{\n\t\t\t\t\tmargin-top:0px;\n\t\t\t\t}\n\t\t\t\t.ddfdfd`+elementNum+`dffssqa>.title{\n\t\t\t\t\tfont-size:16px;\n\t\t\t\t}\n\t\t\t\t.ddfdfd`+elementNum+`dffssqa>.content-list{\n\t\t\t\t\t\n\t\t\t\t}\n\t\t\t\t.ddfdfd`+elementNum+`dffssqa>.content-list>a{\n\t\t\t\t\tdisplay:inline-block;\n\t\t\t\t\twidth:calc(25% - 16px);\n\t\t\t\t\tborder:1px solid #ccc;\n\t\t\t\t\tborder-radius:4px;\n\t\t\t\t\ttext-align:center;\n\t\t\t\t\tmargin-right:15px;\n\t\t\t\t\tmargin-top:6px;\n\t\t\t\t\toverflow: hidden;\n\t\t\t\t\twhite-space: nowrap;\n\t\t\t\t\ttext-overflow:ellipsis;\n\t\t\t\t\tpadding:2px;\n\t\t\t\t\tbox-sizing:border-box;\n\t\t\t\t\tfont-size:13px;\n\t\t\t\t\tline-height:20px;\n\t\t\t\t}\n\t\t\t\t.ddfdfd`+elementNum+`dffssqa>.content-list>a:nth-child(4n){\n\t\t\t\t\tmargin-right:0px;\n\t\t\t\t}\n\t\t\t`;\n\t\t\tif($("#plugin_css_style_dddsoo").length==0){\n\t\t\t\t$("body").prepend("<style id=\'plugin_css_style_dddsoo\'>"+innnerCss+"</style>");\n\t\t\t}\n\t\t};\n\t\tthis.showSetingDialog = function(){\n\t\t\tconst self = this;\n\t\t\t\n\t\t\tvar customNavigationData = "";\n\t\t\tconst customNavigation = commonFunctionObject.GMgetValue(self.customNavigationkey, null);\n\t\t\tif(!!customNavigation){\n\t\t\t\tcustomNavigationData = JSON.stringify(customNavigation, null, 4);\n\t\t\t}\n\t\t\tconst content = `\n\t\t\t\t<div>\n\t\t\t\t\t<div style="font-size:13px;color:red;">\n\t\t\t\t\t\tæ³¨æ„äº‹é¡¹å¦‚ä¸‹ï¼š\n\t\t\t\t\t\t<br>1ã€è¯·ä¸¥æ ¼æŒ‰ç…§æ ¼å¼æ·»åŠ ï¼Œå¦åˆ™ä¸ç”Ÿæ•ˆ\n\t\t\t\t\t\t<br>2ã€æ•°æ®ä¸ºjsonæ ¼å¼ï¼Œè¯·ç¡®ä¿jsonæ ¼å¼æ­£ç¡®ï¼Œå¿…è¦æ—¶è¯·åˆ°<a target="_blank" href="https://www.json.cn/">https://www.json.cn/</a>æ ¡éªŒ\n\t\t\t\t\t\t<br>3ã€ç‚¹å‡»ä¸‹é¢â€ç¤ºä¾‹â€œæŒ‰é’®ï¼ŒæŸ¥çœ‹å…·ä½“æ ¼å¼æƒ…å†µ\n\t\t\t\t\t\t<br>4ã€é“¾æ¥ä¸­çš„æœç´¢å…³é”®è¯è¯·ç”¨â€@@â€œä»£æ›¿ï¼Œè„šæœ¬ä¼šè‡ªåŠ¨æ›¿æ¢æˆå½“å‰æœç´¢è¯ã€‚ä¾‹å¦‚ï¼šhttps://www.baidu.com/s?wd=@@\n\t\t\t\t\t\t<br>5ã€æ¸…ç©º -> ä¿å­˜ï¼Œåˆ™å–æ¶ˆè‡ªå®šä¹‰çš„å¯¼èˆªç½‘å€\n\t\t\t\t\t</div>\n\t\t\t\t\t<div style="margin-top:5px;height:200px;width:100%;">\n\t\t\t\t\t\t<textarea \n\t\t\t\t\t\t\tplaceholder="è¯·ä¸¥æ ¼æŒ‰ç…§æ ¼å¼å¡«å†™ï¼Œå¦åˆ™ä¸ç”Ÿæ•ˆ"\n\t\t\t\t\t\t\tclass="navigation-textarea"\n\t\t\t\t\t\t\tstyle="color:#000;font-size:14px;box-sizing: border-box;-webkit-box-sizing: border-box;-moz-box-sizing: border-box;padding:5px;height:100%;width:100%;Overflow:auto;border:1px solid #ccc;resize:none;background-color:#FFF;outline:none;">`+customNavigationData+`</textarea>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div style="text-align:center;margin-top:15px;">\n\t\t\t\t\t\t<button class="navigation-example" style="color:#000;cursor:pointer;">ç¤ºä¾‹</button>\n\t\t\t\t\t\t<button class="navigation-clear" style="color:#000;cursor:pointer;">æ¸…ç©º</button>\n\t\t\t\t\t\t<button class="navigation-save" style="color:#000;cursor:pointer;">ä¿å­˜è‡ªå®šä¹‰å¯¼èˆª</button>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t`;\n\t\t\tpopup.dialog({\n\t\t\t\t"title":"è‡ªå®šä¹‰æ·»åŠ å¯¼èˆª",\n\t\t\t\t"content":content,\n\t\t\t\t"onContentReady":function($that){\n\t\t\t\t\tvar $navigationExample = $that.dialogContent.querySelector(".navigation-example");\n\t\t\t\t\tvar $navigationClear = $that.dialogContent.querySelector(".navigation-clear");\n\t\t\t\t\tvar $navigationSave = $that.dialogContent.querySelector(".navigation-save");\n\t\t\t\t\t\n\t\t\t\t\tvar $textarea = $that.dialogContent.querySelector(".navigation-textarea");\n\t\t\t\t\tvar exampleJson = JSON.parse(\'[{"name":"æˆ‘æ˜¯æ ‡é¢˜","list":[{"name":"ç™¾åº¦","url":"å†™ç½‘å€"},{"name":"å¿…åº”","url":"å†™ç½‘å€"}]},{"name":"æˆ‘æ˜¯æ ‡é¢˜","list":[{"name":"ç™¾åº¦","url":"å†™ç½‘å€"}]}]\');\n\t\t\t\t\t$navigationExample.addEventListener("click", function(){\n\t\t\t\t\t\t$textarea.value = JSON.stringify(exampleJson, null, 4);\n\t\t\t\t\t});\n\t\t\t\t\t$navigationClear.addEventListener("click", function(){\n\t\t\t\t\t\t$textarea.value = ""\n\t\t\t\t\t});\n\t\t\t\t\t$navigationSave.addEventListener("click", function(){\n\t\t\t\t\t\tvar content = $textarea.value;\n\t\t\t\t\t\tif(!content){\n\t\t\t\t\t\t\tcommonFunctionObject.GMsetValue(self.customNavigationkey, null);\n\t\t\t\t\t\t\tcommonFunctionObject.webToast({"message":"ä¿å­˜æˆåŠŸï¼šæ•°æ®ä¸ºç©º", "background":"#FF4D40"});\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(content.length==0 || content.indexOf("{")==-1 || content.indexOf("[")==-1){\n\t\t\t\t\t\t\tcommonFunctionObject.webToast({"message":"æ ¼å¼é”™è¯¯ï¼Œè¯·æ›´æ­£", "background":"#FF4D40"});\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t\ttry{\n\t\t\t\t\t\t\tvar contentJson = JSON.parse(content);\n\t\t\t\t\t\t\tif(Array.isArray(contentJson)){ //å¼€å§‹å¿…é¡»æ˜¯æ•°ç»„\n\t\t\t\t\t\t\t\tvar isOK = true;\n\t\t\t\t\t\t\t\tfor(var i=0; i<contentJson.length; i++) {\n\t\t\t\t\t\t\t\t\tif(Array.isArray(contentJson[i])){ //æ­¤å¤„å¿…é¡»æ˜¯å¯¹è±¡\n\t\t\t\t\t\t\t\t\t\tisOK = false;\n\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tif(!contentJson[i].hasOwnProperty("name") || !contentJson[i].hasOwnProperty("list")){\n\t\t\t\t\t\t\t\t\t\tisOK = false;\n\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tif(typeof(contentJson[i]["name"])!="string"){\n\t\t\t\t\t\t\t\t\t\tisOK = false;\n\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tif(!Array.isArray(contentJson[i]["list"])){ //æ­¤å¤„å¿…é¡»æ˜¯æ•°ç»„\n\t\t\t\t\t\t\t\t\t\tisOK = false;\n\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tfor(var j=0; j<contentJson[i]["list"].length; j++){\n\t\t\t\t\t\t\t\t\t\tif(!contentJson[i]["list"][j].hasOwnProperty("name") || !contentJson[i]["list"][j].hasOwnProperty("url")){\n\t\t\t\t\t\t\t\t\t\t\tisOK = false;\n\t\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tif(typeof(contentJson[i]["list"][j]["name"])!="string" || typeof(contentJson[i]["list"][j]["url"])!="string"){\n\t\t\t\t\t\t\t\t\t\t\tisOK = false;\n\t\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tif(!isOK){\n\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tif(isOK){\n\t\t\t\t\t\t\t\t\tcommonFunctionObject.GMsetValue(self.customNavigationkey, contentJson);\n\t\t\t\t\t\t\t\t\tcommonFunctionObject.webToast({"message":"ä¿å­˜æˆåŠŸ", "background":"#FF4D40"});\n\t\t\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\t\t\tcommonFunctionObject.webToast({"message":"æ ¼å¼é”™è¯¯ï¼Œè¯·æ›´æ­£", "background":"#FF4D40"});\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\t\tcommonFunctionObject.webToast({"message":"æ ¼å¼é”™è¯¯ï¼Œè¯·æ›´æ­£", "background":"#FF4D40"});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}catch(e){\n\t\t\t\t\t\t\tcommonFunctionObject.webToast({"message":"æ ¼å¼é”™è¯¯ï¼Œè¯·æ›´æ­£", "background":"#FF4D40"});\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t})\n\t\t}\n\t\tthis.createHtml = function(element, elementInput, navigationData){\n\t\t\t$("#dsdsd99mmmjj7760011").remove();\n\t\t\t\n\t\t\tvar isComplate = true;\n\t\t\tconst host = window.location.host;\n\t\t\tconst self = this;\n\t\t\tconst elementNum = commonFunctionObject.randomNumber();\n\t\t\tconst elementInterval = setInterval(function(){\n\t\t\t\tif(isComplate){\n\t\t\t\t\tvar $element = $(element);\n\t\t\t\t\tvar $box = $("#dsdsd99mmmjj7760011");\n\t\t\t\t\tisComplate = false;\n\t\t\t\t\tif($element.length!=0 && $box.length==0){\n\t\t\t\t\t\tvar html = "";\n\t\t\t\t\t\thtml  += "<div id=\'dsdsd99mmmjj7760011\'>";\n\t\t\t\t\t\tfor(var i=0; i<navigationData.length; i++){\n\t\t\t\t\t\t\thtml  += "<div class=\'ddfdfd"+elementNum+"dffssqa\'>";\n\t\t\t\t\t\t\thtml  += "<div class=\'title\'><b>"+navigationData[i].name+"</b></div>";\n\t\t\t\t\t\t\thtml  += "<div class=\'content-list\'>";\n\t\t\t\t\t\t\tfor(var j=0;j<navigationData[i].list.length;j++){\n\t\t\t\t\t\t\t\tlet url = navigationData[i].list[j].url;\n\t\t\t\t\t\t\t\tlet name = navigationData[i].list[j].name;\n\t\t\t\t\t\t\t\thtml += "<a target=\'_blank\' name=\'navigation\' data-url=\'"+url+"\' href=\'javascript:void(0);\'>"+name+"</a>"\t\t\t\t\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\thtml += "</div>";\n\t\t\t\t\t\t\thtml += "</div>";\n\t\t\t\t\t\t}\n\t\t\t\t\t\thtml += `\n\t\t\t\t\t\t\t<div style=\'margin-bottom:10px;margin-top:5px;font-size:12px;\'>\n\t\t\t\t\t\t\t\t<a target=\'_blank\' href=\'https://greasyfork.org/zh-CN/scripts/469407\'>\n\t\t\t\t\t\t\t\t\t*è¯¥æ•°æ®ç”±æ²¹çŒ´è„šæœ¬æä¾›\n\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t&nbsp;&nbsp;\n\t\t\t\t\t\t\t\t<a href="javascript:void(0);" name="customNavigation">\n\t\t\t\t\t\t\t\t\tğŸ”§è‡ªå®šä¹‰ç½‘å€\n\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t</div>`;\n\t\t\t\t\t\thtml += "</div>";\n\t\t\t\t\t\t\n\t\t\t\t\t\t//æ·»åŠ css æ·»åŠ html\n\t\t\t\t\t\tself.createCss(elementNum);\n\t\t\t\t\t\t$element.prepend(html);\n\t\t\t\t\t\t\n\t\t\t\t\t\t$("#dsdsd99mmmjj7760011 a[name=\'navigation\']").on("click", function(e){\n\t\t\t\t\t\t\tcommonFunctionObject.GMopenInTab($(this).data("url").replace("@@",$(elementInput).val()));\n\t\t\t\t\t\t\te.preventDefault()\n\t\t\t\t\t\t});\n\t\t\t\t\t\t\n\t\t\t\t\t\t$("#dsdsd99mmmjj7760011 a[name=\'customNavigation\']").on("click", function(e){\n\t\t\t\t\t\t\tself.showSetingDialog();\n\t\t\t\t\t\t\te.preventDefault()\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t\tisComplate = true;\n\t\t\t\t}\n\t\t\t}, 100);\t\t\t\n\t\t};\n\t\tthis.show = function(){\n\t\t\tconst self = this;\n\t\t\tconst host = window.location.host;\n\t\t\tconst href = window.location.href;\n\t\t\tif((host==="www.baidu.com")\n\t\t\t\t|| (host==="www.so.com" && href.indexOf("www.so.com/s")!=-1)\n\t\t\t\t|| (host==="www.sogou.com" && (href.indexOf("www.sogou.com/web")!=-1 || href.indexOf("www.sogou.com/sogou")!=-1))\n\t\t\t\t|| (host==="cn.bing.com" && href.indexOf("cn.bing.com/search")!=-1)\n\t\t\t\t|| (host==="www.bing.com" && href.indexOf("www.bing.com/search")!=-1)\n\t\t\t\t|| (host==="www4.bing.com" && href.indexOf("www4.bing.com/search")!=-1)\n\t\t\t\t|| (host==="so.toutiao.com" && href.indexOf("so.toutiao.com/search")!=-1)\n\t\t\t\t|| (host==="www.google.com" && href.indexOf("www.google.com/search")!=-1)){\n\t\t\t\tlet currentSearchEnginesData = null;\n\t\t\t\tfor(var i=0; i<self.searchEnginesData.length; i++){\n\t\t\t\t\tif(host===self.searchEnginesData[i].host){\n\t\t\t\t\t\tcurrentSearchEnginesData = self.searchEnginesData[i];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif(currentSearchEnginesData!=null){\n\t\t\t\t\tself.getNavigationData(currentSearchEnginesData.element, currentSearchEnginesData.elementInput);\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t\tthis.start = function(){\n\t\t\tthis.show();\n\t\t};\n\t}\n\t\n\t/**\n\t * çŸ¥ä¹åŠ©æ‰‹å¼€å§‹\n\t */\n\t////**********************************************\n\t//æœ¬è„šæœ¬éƒ¨åˆ†ä»£ç å€Ÿé‰´è‡ªã€äººé¬¼æƒ…æœªäº†ã€‘çš„è„šæœ¬ï¼Œå·²ç»è·å¾—åŸä½œè€…çš„å®Œå…¨æˆæƒï¼Œè„šæœ¬ä»£ç å¯ä»¥éšæ„ä¿®æ”¹ä½¿ç”¨ï¼Œç‰¹æ­¤ç”³æ˜ï¼\n\t////ã€äººé¬¼æƒ…æœªäº†ã€‘è„šæœ¬åå­—ï¼šçŸ¥ä¹ç½‘é¡µåŠ©æ‰‹\n\t////ã€äººé¬¼æƒ…æœªäº†ã€‘è„šæœ¬åœ°å€ï¼šhttps://greasyfork.org/zh-CN/scripts/384172\n\t////æœ¬è„šæœ¬åšå‡ºçš„ä¿®æ”¹ï¼šé‡æ„äº†éƒ¨åˆ†é€»è¾‘\n\t////**********************************************\n\tfunction zhihuHelper(){\n\t\tthis.markArticleOrQuestion = function(){\n\t\t\tvar questionsCss = `\n\t\t\t\t.AnswerItem .ContentItem-title a::before {\n\t\t\t\t\tcontent: \'é—®é¢˜\';\n\t\t\t\t\tcolor: #f68b83;\n\t\t\t\t\tbackground-color: #f68b8333;\n\t\t\t\t\tfont-weight: bold;\n\t\t\t\t\tfont-size: 13px;\n\t\t\t\t\tpadding: 1px 4px 0px;\n\t\t\t\t\tborder-radius: 2px;\n\t\t\t\t\tdisplay: inline-block;\n\t\t\t\t\tvertical-align: middle;\n\t\t\t\t\tmargin: 0px 4px 0px 0px;\n\t\t\t\t}\n\t\t\t\t.ArticleItem .ContentItem-title a::before {\n\t\t\t\t\tcontent: \'æ–‡ç« \';\n\t\t\t\t\tcolor: #0066FF;\n\t\t\t\t\tbackground-color: #E5EFFF;\n\t\t\t\t\tfont-weight: bold;\n\t\t\t\t\tfont-size: 13px;\n\t\t\t\t\tpadding: 1px 4px 0;\n\t\t\t\t\tborder-radius: 2px;\n\t\t\t\t\tdisplay: inline-block;\n\t\t\t\t\tvertical-align: middle;\n\t\t\t\t\tmargin: 0px 4px 0px 0px;\n\t\t\t\t}\n\t\t\t\t.ZvideoItem .ContentItem-title a::before {\n\t\t\t\t\tcontent:\'è§†é¢‘\';\n\t\t\t\t\tcolor: #00BCD4;\n\t\t\t\t\tbackground-color: #00BCD433;\n\t\t\t\t\tfont-weight: bold;\n\t\t\t\t\tfont-size: 13px;\n\t\t\t\t\tpadding: 1px 4px 0;\n\t\t\t\t\tborder-radius: 2px;\n\t\t\t\t\tdisplay: inline-block;\n\t\t\t\t\tvertical-align: middle;\n\t\t\t\t\tmargin: 0px 4px 0px 0px;\n\t\t\t\t}\n\t\t\t\t.TopstoryItem--advertCard{\n\t\t\t\t\ttext-decoration:line-through;\n\t\t\t\t}\n\t\t\t`;\n\t\t\tcommonFunctionObject.GMaddStyle(questionsCss);\n\t\t}\n\t\tthis.autoJumpTarget = function(){\n\t\t\tvar regexResult = location.search.match(/target=(.+?)(&|$)/);\n\t\t\tif(regexResult && regexResult.length==3){\n\t\t\t\tlocation.href = decodeURIComponent(regexResult[1]);\n\t\t\t}\n\t\t};\n\t\t// ä¸ºé—®é¢˜æœ¬èº«æ·»åŠ æ—¶é—´\n\t\tthis.addDateQuestion = function(){\n\t\t\tvar title = document.querySelector(".QuestionPage");\n\t\t\tif(!!title){\n\t\t\t\tvar dateCreated = title.querySelector("[itemprop~=dateCreated][content]").content;\n\t\t\t\tvar dateModified = title.querySelector("[itemprop~=dateModified][content]").content;\n\t\t\t\tvar createDate = commonFunctionObject.DateFormat(new Date(dateCreated), "yyyy-MM-dd hh:mm:ss");\n\t\t\t\tvar editDate = commonFunctionObject.DateFormat(new Date(dateModified), "yyyy-MM-dd hh:mm:ss");\n\t\t\t\t\n\t\t\t\tvar side = title.querySelector(".QuestionHeader-side");\n\t\t\t\tvar timeDiv = document.createElement(\'div\');\n\t\t\t\ttimeDiv.innerHTML = `<p>åˆ›å»ºäº:&nbsp;${createDate}</p><p>ç¼–è¾‘äº:&nbsp;${editDate}</p>`;\n\t\t\t\ttimeDiv.style.cssText = \'color:#6f6f6f;font-size:13px;\';\n\t\t\t\tside.appendChild(timeDiv);\n\t\t\t}\n\t\t};\n\t\t// ä¸ºå›ç­”æ·»åŠ æ—¶é—´\n\t\tthis.addTimeAnswerItems = function(){\n\t\t\tvar list = document.querySelectorAll(".AnswerItem:not(div[zh_date_mk=\'true\'])");\n\t\t\tvar item = null;\n\t\t\tfor (var i = 0; i < list.length; i++) {\n\t\t\t\titem = list[i];\n\t\t\t\tif (item.getAttribute(\'zh_date_mk\') === \'true\') {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\titem.setAttribute("zh_date_mk", "true");\n\t\t\t\ttry{\t\t\t\t\t\n\t\t\t\t\tvar dateCreated = item.querySelector("[itemprop~=dateCreated][content]").content;\n\t\t\t\t\tvar dateModified = item.querySelector("[itemprop~=dateModified][content]").content;\n\t\t\t\t\tvar createDate = commonFunctionObject.DateFormat(new Date(dateCreated), "yyyy-MM-dd hh:mm:ss");\n\t\t\t\t\tvar editDate = commonFunctionObject.DateFormat(new Date(dateModified), "yyyy-MM-dd hh:mm:ss");\n\t\t\t\t\t\t \n\t\t\t\t\tvar sideItem = item.querySelector(".ContentItem-meta");\n\t\t\t\t\tvar timeDiv = document.createElement(\'div\');\n\t\t\t\t\ttimeDiv.innerHTML = `åˆ›å»ºäº:&nbsp;${createDate}&nbsp;&nbsp;&nbsp;ä¿®æ”¹äº:&nbsp;${editDate}`;\n\t\t\t\t\ttimeDiv.class = "Voters";\n\t\t\t\t\ttimeDiv.style.cssText = \'color:#6f6f6f;font-size:13px;display:block;padding:5px 0px;\';\n\t\t\t\t\tsideItem.appendChild(timeDiv);\n\t\t\t\t}catch(e){}\n\t\t\t}\n\t\t\treturn true;\n\t\t};\n\t\t// æé—®è€…æ ‡è¯†å‡ºæ¥\n\t\tthis.showQuestionAuthor = function(){\n\t\t\t//æ­¤å¤„ä»£ç å€Ÿé‰´è‡ª - çŸ¥ä¹å¢å¼º\n\t\t\t//åŸä½œè€…ï¼šX.I.U\n\t\t\t//https://greasyfork.org/zh-CN/scripts/419081-%E7%9F%A5%E4%B9%8E%E5%A2%9E%E5%BC%BA\n\t\t\tif (document.querySelector(\'.BrandQuestionSymbol, .QuestionAuthor\')) return\n\t\t\tlet qJson = JSON.parse(document.querySelector(\'#js-initialData\').textContent).initialState.entities.questions[/\\d+/.exec(location.pathname)[0]].author,\n\t\t\t\thtml = `<div class="BrandQuestionSymbol"><a class="BrandQuestionSymbol-brandLink" href="/people/${qJson.urlToken}"><img role="presentation" src="${qJson.avatarUrl}" class="BrandQuestionSymbol-logo" alt=""><span class="BrandQuestionSymbol-name">${qJson.name}</span></a><div class="BrandQuestionSymbol-divider" style="margin-left: 5px;margin-right: 10px;"></div></div>`;\n\t\t\tdocument.querySelector(\'.QuestionHeader-topics\').insertAdjacentHTML(\'beforebegin\', html);\n\t\t};\n\t\tthis.startDealwithQuestion = function(){\n\t\t\tlet isMarkComplete = true;\n\t\t\tsetInterval(()=>{\n\t\t\t\tif(isMarkComplete){\n\t\t\t\t\tisMarkComplete = false;\n\t\t\t\t\tisMarkComplete = this.addTimeAnswerItems();\n\t\t\t\t}\n\t\t\t}, 1999);\n\t\t\tthis.showQuestionAuthor();\n\t\t\tthis.addDateQuestion();\n\t\t};\n\t\tthis.downloadVideo = function(){\n\t\t\tlet isMarkComplete = true;\n\t\t\tfunction addDownloadButton(){\n\t\t\t\tif(!isMarkComplete) return;\n\t\t\t\tisMarkComplete = false;\n\t\t\t\t\n\t\t\t\tvar itemArray = document.querySelectorAll("._1tg8oir:not(span[zh_date_mk=\'true\'])");\n\t\t\t\tvar item = null;\n\t\t\t\t// console.log("çŸ¥ä¹è§†é¢‘ä¸‹è½½å¾ªåç›‘å¬æ¬¡æ•°ï¼š", itemArray.length);\n\t\t\t\tfor(var i=0; i<itemArray.length; i++){\n\t\t\t\t\titem = itemArray[i];\n\t\t\t\t\tif (item.getAttribute(\'zh_date_mk\') === \'true\') {\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\t\t\t\t\titem.setAttribute("zh_date_mk", "true");\n\t\t\t\t\t\n\t\t\t\t\tif(item.innerText != "å€é€Ÿ"){\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tvar playButLi = item.parentNode.parentNode;\n\t\t\t\t\tvar downloadBut = playButLi.cloneNode(true)\n\t\t\t\t\tif(!downloadBut.querySelector(\'._1tg8oir\')) return;\n\t\t\t\t\t\n\t\t\t\t\t// åˆ é™¤å…¶å®ƒå…ƒç´ \n\t\t\t\t\tvar downloadButChildren = downloadBut.children;\n\t\t\t\t\tfor(var j=0; j<downloadButChildren.length; j++){\n\t\t\t\t\t\tif(downloadButChildren[j].nodeName !== "BUTTON"){\n\t\t\t\t\t\t\tdownloadBut.removeChild(downloadButChildren[j]);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tdownloadBut.setAttribute("zh_date_mk", "true");\n\t\t\t\t\tdownloadBut.querySelector(\'._1tg8oir\').innerText=\'ä¸‹è½½\';\n\t\t\t\t\t\n\t\t\t\t\tplayButLi.before(downloadBut);\n\t\t\t\t\tdownloadBut.addEventListener("click",function(){\n\t\t\t\t\t\tlet href = window.location.href;\n\t\t\t\t\t\tlet findClassName = ".ZVideoItem-video"; // é¦–é¡µ\n\t\t\t\t\t\tif(href.indexOf("www.zhihu.com/search")!=-1){ //æœç´¢ç•Œé¢\n\t\t\t\t\t\t\tfindClassName = ".List-item";\n\t\t\t\t\t\t}else if(href.indexOf("www.zhihu.com/zvideo/")!=-1){ //å•ç‹¬è§†é¢‘æ’­æ”¾ç•Œé¢\n\t\t\t\t\t\t\tfindClassName = ".ZVideo-player";\n\t\t\t\t\t\t}else if(href.indexOf("https://video.zhihu.com/video")!=-1){ //è§†é¢‘æ’­æ”¾iframe\n\t\t\t\t\t\t\tfindClassName = "#player"\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(!findClassName) return;\n\t\t\t\t\t\tlet playUrl = $(item).parents(findClassName).find("video").attr("src");\n\t\t\t\t\t\tif(!!playUrl){\n\t\t\t\t\t\t\tcommonFunctionObject.GMopenInTab(playUrl);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\tisMarkComplete = true;\n\t\t\t}\n\t\t\t\n\t\t\tsetInterval(()=>{\n\t\t\t\taddDownloadButton();\n\t\t\t}, 1499);\n\t\t};\n\t\tthis.start = function(){\n\t\t\tconst host = window.location.host;\n\t\t\tconst self = this;\n\t\t\tif(host == "link.zhihu.com"){ \n\t\t\t\tthis.autoJumpTarget();\n\t\t\t}\n\t\t\tif(host.indexOf("zhihu.com")!=-1){\n\t\t\t\tthis.markArticleOrQuestion();\n\t\t\t\tif(window.location.href.indexOf("www.zhihu.com/question/")!=-1){\n\t\t\t\t\tthis.startDealwithQuestion();\n\t\t\t\t}\n\t\t\t\t//this.downloadVideo();\n\t\t\t}\n\t\t};\n\t}\n\t\t\n\t//æœ€åç»Ÿä¸€è°ƒç”¨\n\ttry{\n\t\tif(functionController.superVideoHelper){\n\t\t\tconst superVideoHelperObject = new superVideoHelper(newOriginalInterfaceList);\n\t\t\tif(superVideoHelperObject.isRun()){\n\t\t\t\tif(commonFunctionObject.GMgetValue("copyright_video_remind",null)==="true"){\n\t\t\t\t\tsuperVideoHelperObject.start();\n\t\t\t\t}else{\n\t\t\t\t\tvar r=confirm(\n\t\t\t\t\t\t"è„šæœ¬è¿è¡Œæé†’ï¼ï¼ï¼\\u000d"+\n\t\t\t\t\t\t"1ã€VIPè§†é¢‘è§£æä¸­æ‰€ç”¨åˆ°çš„è§£ææ¥å£å…¨éƒ¨æ”¶é›†è‡ªäº’è”ç½‘ï¼ˆæºç å¯è§ï¼‰ï¼Œç‰ˆæƒé—®é¢˜è¯·è”ç³»ç›¸å…³è§£ææ¥å£æ‰€æœ‰è€…ï¼\\u000d"+\n\t\t\t\t\t\t"2ã€ä¸ºåˆ›é€ è‰¯å¥½çš„åˆ›ä½œæ°›å›´ï¼Œè¯·å¤§å®¶æ”¯æŒæ­£ç‰ˆï¼\\u000d"+\n\t\t\t\t\t\t"3ã€è„šæœ¬ä»…é™ä¸ªäººå­¦ä¹ äº¤æµï¼Œåˆ‡å‹¿ç”¨äºä»»ä½•å•†ä¸šç­‰å…¶å®ƒç”¨é€”ï¼\\u000d"+\n\t\t\t\t\t\t"4ã€ç»§ç»­ä½¿ç”¨ï¼Œå³è¡¨æ˜ä½ å·²ç»æ˜ç¡®ä½¿ç”¨è„šæœ¬å¯èƒ½å¸¦æ¥çš„é£é™©ï¼Œä¸”æ„¿æ„è‡ªè¡Œæ‰¿æ‹…ç›¸å…³é£é™©ï¼Œå¯¹äºé£é™©è„šæœ¬ä¸æ‰¿æ‹…ä»»ä½•è´£ä»»ï¼\\u000d"+\n\t\t\t\t\t\t"5ã€æ­¤æé†’åªå¼¹å‡ºä¸€æ¬¡ï¼Œç¡®è®¤åï¼Œåç»­å°†ä¸åœ¨å¼¹å‡ºï¼Œè¯·çŸ¥æ‚‰ï¼"\n\t\t\t\t\t);\n\t\t\t\t\tif(r==true){\n\t\t\t\t\t\tcommonFunctionObject.GMsetValue("copyright_video_remind","true");\n\t\t\t\t\t\tsuperVideoHelperObject.start();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\t(new superVideoHelperMobile(newOriginalInterfaceList)).start();\n\t\t}\n\t}catch(e){\n\t\tconsole.log("å…¨ç½‘VIPè§£æï¼šerrorï¼š"+e);\n\t}\n\t\n\t/**\n\t * çŸ­è§†é¢‘å»æ°´å°ä¸‹è½½ï¼Œä¸æ½®ç©å¤©ä¸‹å…±åŒå¼€å‘ç»´æŠ¤\n\t * https://greasyfork.org/zh-CN/scripts/452660\n\t */\n\tfunction shortVideoDownloader(){\n\t\tthis.douyinVideoDownloader = function(){\n\t\t\tif(window.location.host !== "www.douyin.com"){\n\t\t\t\treturn;\n\t\t\t}\n\t\t\twindow.addEventListener(\'load\',function(){\n\t\t\t\t//è¿™æ˜¯æœç´¢ç•Œé¢\n\t\t\t\tif(window.location.href.match(/https:\\/\\/www\\.douyin\\.com\\/search\\/.*?/)){\n\t\t\t\t\tfunction downloader(){\n\t\t\t\t\t\tconst videoContainers = document.querySelectorAll(".player-info");\n\t\t\t\t\t\tvideoContainers.forEach((element)=>{\n\t\t\t\t\t\t\tif(element.getAttribute("dealwith")){\n\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tlet bottomMenu = element.querySelector(\'xg-right-grid\');\n\t\t\t\t\t\t\tif(!bottomMenu){\n\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tlet playbackSetting = bottomMenu.querySelector(\'.xgplayer-playback-setting\');\n\t\t\t\t\t\t\tif(!playbackSetting){\n\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tlet download = playbackSetting.cloneNode(true); // æ‹·è´ä¸€ä¸ªèŠ‚ç‚¹\n\t\t\t\t\t\t\tlet downloadText = download.querySelector(\'div:first-child\');\n\t\t\t\t\t\t\tlet video = element.querySelector("video");\n\t\t\t\t\t\t\tdownloadText.innerText=\'ä¸‹è½½\';\n\t\t\t\t\t\t\tdownloadText.style = \'font-size:13px\';\n\t\t\t\t\t\t\tplaybackSetting.after(download);\n\t\t\t\t\t\t\telement.setAttribute("dealwith","true");\n\t\t\t\t\t\t\tdownload.addEventListener("click",(e)=>{\n\t\t\t\t\t\t\t\tlet playerUrl = video.children[0].src;\n\t\t\t\t\t\t\t\tcommonFunctionObject.GMopenInTab(playerUrl);\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\tdownloader();\n\t\t\t\t\tsetInterval(function(){\n\t\t\t\t\t\tdownloader();\n\t\t\t\t\t},500);\n\t\t\t\t}else{\n\t\t\t\t\tasync function downloader(){\n\t\t\t\t\t\ttry{\n\t\t\t\t\t\t\t//å»¶è¿ŸåŠ è½½ç­‰åˆ°æ˜¯å¦å®Œæˆ\n\t\t\t\t\t\t\tlet videoContainer = await commonFunctionObject.getElementObject(".xg-video-container");\n\t\t\t\t\t\t\tif(!videoContainer){\n\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tlet bottomMenus = document.querySelectorAll(\'.xg-right-grid\');\n\t\t\t\t\t\t\tlet bottomMenuLength = bottomMenus.length;\n\t\t\t\t\t\t\tlet bottomMenu = bottomMenus.length>1 ? bottomMenus[bottomMenuLength - 2] : bottomMenus[bottomMenuLength - 1];\n\t\t\t\t\t\t\tlet douyinVideoDownloaderDom = document.querySelector(\'#douyin-video-downloder\');\n\t\t\t\t\t\t\tif(douyinVideoDownloaderDom){\n\t\t\t\t\t\t\t\tdouyinVideoDownloaderDom.parentNode.parentNode.removeChild(douyinVideoDownloaderDom.parentNode);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t// æ‹·è´ä¸€ä¸ªèŠ‚ç‚¹\n\t\t\t\t\t\t\tlet playbackSetting = bottomMenu.querySelector(\'.xgplayer-playback-setting\');\n\t\t\t\t\t\t\tif(!playbackSetting){\n\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tlet download = playbackSetting.cloneNode(true);\n\t\t\t\t\t\t\tlet downloadText = download.querySelector(\'div:first-child\');\n\t\t\t\t\t\t\tdownloadText.innerText=\'ä¸‹è½½\';\n\t\t\t\t\t\t\tdownloadText.style = \'font-size:14px\';\n\t\t\t\t\t\t\tdownloadText.setAttribute(\'id\',\'douyin-video-downloder\');\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tlet autoplaySetting = document.querySelector(\'.xgplayer-autoplay-setting\');\n\t\t\t\t\t\t\tif(!autoplaySetting){\n\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tautoplaySetting.after(download);\n\t\t\t\t\t\t\tlet videoPlayers = document.querySelectorAll(\'video\');\n\t\t\t\t\t\t\tlet videoPlayDom = videoPlayers[videoPlayers.length>1 ? videoPlayers.length-2 : videoPlayers.length-1];\t\t\n\t\t\t\t\t\t\tdocument.querySelector("#douyin-video-downloder").addEventListener("click", (e)=>{\n\t\t\t\t\t\t\t\tlet playerUrl = videoPlayDom.children[0].src;\n\t\t\t\t\t\t\t\tcommonFunctionObject.GMopenInTab(playerUrl);\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}catch(e){}\n\t\t\t\t\t}\n\t\t\t\t\t//ç›‘å¬é¼ æ ‡\n\t\t\t\t\twindow.addEventListener("wheel",downloader);\n\t\t\t\t\twindow.addEventListener(\'keydown\',function(e){\n\t\t\t\t\t\tif(e.code == \'ArrowDown\' || e.code == \'ArrowUp\'){\n\t\t\t\t\t\t\tdownloader();\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\t//è§†é¢‘æ”¹å˜åè§¦å‘\n\t\t\t\t\tasync function domNodeInserted(){\n\t\t\t\t\t\tlet findVideoInterval = setInterval(function(){\n\t\t\t\t\t\t\tlet videoElement = document.querySelector("video");\n\t\t\t\t\t\t\tif(videoElement){\n\t\t\t\t\t\t\t\tvideoElement.addEventListener(\'DOMNodeInserted\',(e) => {\n\t\t\t\t\t\t\t\t\tdownloader();\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\tclearInterval(findVideoInterval);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}, 200);\n\t\t\t\t\t}\n\t\t\t\t\tdomNodeInserted();\n\t\t\t\t\tdownloader();\n\t\t\t\t\twindow.addEventListener("click",downloader);\n\t\t\t\t}\n\t\t\t});\n\t\t};\n\t\tthis.kuaishouVideoDownloader = function(){\n\t\t\tif(window.location.host !== "www.kuaishou.com"){\n\t\t\t\treturn;\n\t\t\t}\n\t\t\twindow.addEventListener(\'load\',function(){\n\t\t\t\tasync function downloader(){\n\t\t\t\t\tlet kuaishouVideoDownloder = document.querySelector("#kuaishou-video-downloder");\n\t\t\t\t\tif(!kuaishouVideoDownloder){\n\t\t\t\t\t\tlet downloadDIV = document.createElement("div");\n\t\t\t\t\t\tdownloadDIV.style = "cursor:pointer;width:50px;height:40px;line-height:40px;text-align:center;background-color:#FFF;color:#000;position:fixed;top:200px;left:0px;z-index:999;";\n\t\t\t\t\t\tdownloadDIV.innerText = "ä¸‹è½½";\n\t\t\t\t\t\tdownloadDIV.setAttribute(\'id\',\'kuaishou-video-downloder\');\n\t\t\t\t\t\tdocument.body.appendChild(downloadDIV);\n\t\t\t\t\t\t\n\t\t\t\t\t\tdownloadDIV.addEventListener("click", function(e){\n\t\t\t\t\t\t\tlet videoDom = document.querySelector(\'.player-video\');\n\t\t\t\t\t\t\tif(!videoDom){\n\t\t\t\t\t\t\t\tconsole.log(\'æ²¡æœ‰æ‰¾åˆ°DOM\');\n\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tlet videoSrc = videoDom.getAttribute(\'src\');\t\t\t\t\t\n\t\t\t\t\t\t\tif(videoSrc.match(/^blob/)){\n\t\t\t\t\t\t\t\tconsole.log(\'blobè§†é¢‘æ— æ³•ä¸‹è½½\');\n\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tcommonFunctionObject.GMopenInTab(videoSrc);\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tdocument.querySelectorAll(".switch-item").forEach(function(value){\n\t\t\t\t\tvalue.addEventListener("click", function(){\n\t\t\t\t\t\tdownloader();\n\t\t\t\t\t});\n\t\t\t\t})\n\t\t\t\tdownloader();\n\t\t\t\tsetInterval(function(){\n\t\t\t\t\tlet kuaishouVideoDownloder = document.querySelector("#kuaishou-video-downloder");\n\t\t\t\t\tif(kuaishouVideoDownloder){\n\t\t\t\t\t\tif(window.location.href.match(/https:\\/\\/www\\.kuaishou\\.com\\/short-video\\/.*?/)){\n\t\t\t\t\t\t\tkuaishouVideoDownloder.style.display = "block";\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\tkuaishouVideoDownloder.style.display = "none";\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}, 800);\n\t\t\t});\n\t\t};\n\t\tthis.start = function(){\n\t\t\tthis.douyinVideoDownloader();\n\t\t\tthis.kuaishouVideoDownloader();\n\t\t};\n\t};\n\t\n\ttry{\n\t\tif(functionController.abroadVideoHelper){\n\t\t\t(new abroadVideoHelper()).start();\n\t\t}\n\t}catch(e){\n\t\tconsole.log("å›½å¤–è§†é¢‘è§£æï¼šerrorï¼š"+e);\n\t}\n\t\t\n\ttry{\n\t\tif(functionController.bilibiliHelper){\n\t\t\tnew bilibiliHelper(commonFunctionObject).start();\n\t\t}\n\t}catch(e){\n\t\tconsole.log("Bç«™è§†é¢‘ä¸‹è½½ï¼šerrorï¼š"+e);\n\t}\n\t\t\n\ttry{\n\t\tif(functionController.searchEnginesNavigation){\n\t\t\tnew searchEnginesNavigation(commonFunctionObject).start();\n\t\t}\n\t}catch(e){\n\t\tconsole.log("æœç´¢å¼•æ“å¯¼èˆªï¼šerrorï¼š"+e);\n\t}\n\t\n\ttry{\n\t\tif(functionController.zhihuHelper){\n\t\t\tnew zhihuHelper(commonFunctionObject).start();\n\t\t}\n\t}catch(e){\n\t\tconsole.log("çŸ¥ä¹åŠ©æ‰‹ï¼šerrorï¼š"+e);\n\t}\n\t\n\ttry{\n\t\tif(functionController.shortVideoDownload){\n\t\t\t(new shortVideoDownloader()).start();\n\t\t}\n\t}catch(e){\n\t\tconsole.log("çŸ­è§†é¢‘å»æ°´å°ä¸‹è½½ï¼šerrorï¼š"+e);\n\t}\n})();)\n\t\tlet scriptWrap = new Function(grant.join(\',\'), \'console.log("åŠ è½½æˆåŠŸ")\')\n\n\t\tlet url = location.href;\n\n\t\tlet urlInclude = metadata.include.replace(\'*\',\'.*\');\n\t\tif (websiteChecked(url) || url.match(new RegExp(urlInclude))) {\n\t\t\tlet funcArray = []\n\t\t\tgrant.forEach(function(e, index) {\n\t\t\t\tfuncArray[index] = e\n\t\t\t})\n\t\t\tscriptWrap(GM_ctrl[funcArray[0]],\n\t\t\t\tGM_ctrl[funcArray[1]],\n\t\t\t\tGM_ctrl[funcArray[2]],\n\t\t\t\tGM_ctrl[funcArray[3]],\n\t\t\t\tGM_ctrl[funcArray[4]],\n\t\t\t\tGM_ctrl[funcArray[5]],\n\t\t\t\tGM_ctrl[funcArray[6]],\n\t\t\t\tGM_ctrl[funcArray[7]],\n\t\t\t\tGM_ctrl[funcArray[8]],\n\t\t\t\tGM_ctrl[funcArray[9]],\n\t\t\t\tGM_ctrl[funcArray[10]],\n\t\t\t\tGM_ctrl[funcArray[11]]\n\t\t\t)\n\t\t}\n\t})()